{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9cc6","webpack:///./src/views/Bus.vue?3a81","webpack:///./src/views/Arrival.vue?1725","webpack:///./src/App.vue","webpack:///./src/components/Menu.vue","webpack:///./src/components/Menu.vue?e357","webpack:///./src/App.vue?8ecf","webpack:///./src/views/Home.vue","webpack:///./src/hook/convertToGeoJson.js","webpack:///./src/store/index.js","webpack:///./src/hook/getLocation.js","webpack:///./src/views/Home.vue?f63c","webpack:///./src/views/Bus.vue","webpack:///./src/components/BusRoute.vue","webpack:///./src/components/BusRoute.vue?a303","webpack:///./src/views/Bus.vue?e910","webpack:///./src/views/Arrival.vue","webpack:///./src/components/Map.vue","webpack:///./src/components/Map.vue?ac7d","webpack:///./src/views/Arrival.vue?d75b","webpack:///./src/views/NearBus.vue","webpack:///./src/views/NearBus.vue?0982","webpack:///./src/views/Collect.vue","webpack:///./src/views/Collect.vue?7d51","webpack:///./src/components/CollectStation.vue","webpack:///./src/components/CollectStation.vue?a7d9","webpack:///./src/components/CollectRoute.vue","webpack:///./src/components/CollectRoute.vue?6f10","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/CollectStation.vue?5993","webpack:///./src/views/Collect.vue?59f6","webpack:///./src/assets/logo.svg","webpack:///./src/components/BusRoute.vue?3517"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","class","alt","srcset","icon","backToLast","$route","path","data-bs-toggle","href","role","aria-controls","style","tabindex","id","ref","aria-labelledby","data-bs-dismiss","aria-label","closeMenu","to","setup","menu","bsOffcanvas","newVal","oldVal","hide","__exports__","components","Menu","router","go","render","location","openGeolocation","homeNearLocationBus","stop","StopUID","RouteName","Zh_tw","DestinationStopNameZh","StopName","distance","EstimateTime","convertToGeoJson","Geometry","reg1","reg2","index","indexOf","newGeometry","substring","replace","replaceAll","JSON","parse","forEach","arr","reverse","coordinates","createStore","state","api","Shape_url","Route_url","Estimated_url","RealTimeByFrequency_url","RealTimeNearStop_url","StopOfRoute_url","Station_url","nominatim_url","process","city","Taipei","NewTaipei","Taoyuan","Taichung","Tainan","Kaohsiung","Keelung","Hsinchu","HsinchuCounty","MiaoliCounty","ChanghuaCounty","NantouCounty","YunlinCounty","ChiayiCounty","Chiayi","PingtungCounty","YilanCounty","HualienCounty","TaitungCounty","KinmenCounty","PenghuCounty","LienchiangCounty","routes","RouteUID","selectedRoute","shape","Stops","StopID","StopPosition","PositionLat","PositionLon","Estimated","RealTimeByFrequency","RealTimeNearStop","lat","lon","NearLocationBus","getters","headers","GMTDate","Date","toUTCString","HAMC","hmacSHA1","toBase","Base64","stringify","methods","Authorization","filterRoute","routeId","route","filter","rou","filterStopRoute","direction","stops","bus","Direction","filterRealTimeNearStop","filterRealTimeByFrequency","Buses","filterEstimatedBus","diffBus","reduce","acc","cur","some","item","filterNearLocationBus","stopData","nearStop","StationPosition","Math","ceil","getDistance","mutations","getRouteData","payload","collectRoute","localStorage","getItem","routeData","isCollect","getShapeData","getStopData","collectStation","station","getRealTimeByFrequencyData","getRealTimeNearStopData","getEstimatedData","clearDataNearLocation","getDataNearLocation","getLocation","actions","getData","commit","realTimeNearStop","realTimeByFrequency","estimated","routeName","fetch","res","ok","json","DistanceInMeters","nominatiml","locationRes","locationData","address","county","includes","newData","StationGroupID","getDestinationStop","navigator","geolocation","options","enableHighAccuracy","maximumAge","success","pos","crd","coords","log","latitude","longitude","store","dispatch","getCurrentPosition","alert","busDestinationStopRes","busEstimatedRes","then","destination","data-bs-auto-close","aria-expanded","cityZh","closeDropMenu","BusCity","data-city-en","data-city-zh","getCityName","keyboard","changeKeyboard","getRouteName","changeOptions","data-clear","deleteWord","customKeyboard","showDeleteBtn","$event","changeRouterId","City","DepartureStopNameZh","setCollectRoute","deleteBtnIsShow","removeCollect","params","pointerOffsetX","currentRoute","offsetX","storeRoute","find","storeIndex","findIndex","setItem","BusRoute","dropdown","busSearch","cityEn","dataset","tagName","textContent","clear","routeNameInput","focus","addEventListener","mapIsShow","changeMapIsShow","changeRouteDirection","estimateds","estimate","StopStatus","accurateStops","PlateNumb","setCollectStation","zoom","center","ready","url","attribution","position","lat-lngs","color","opacity","lat-lng","BusPosition","nearBusStop","StationUID","LMap","LTileLayer","LPolyline","LControl","LMarker","LIcon","props","Number","openStationUid","String","emit","updateBusMarker","busMap","control","getAllData","setInterval","routeShape","minLat","minLon","maxLat","maxLon","leafletObject","flyToBounds","flyTo","clearInterval","Map","updateBus","stationId","storeStation","open-station-uid","open","busStop","data-bs-target","changeOpenId","StationName","stationRoute","newId","oldId","stations","estimateTime","immediate","stopId","component","Home","Bus","Arrival","NearBus","Collect","children","CollectStation","CollectRoute","createRouter","history","createWebHashHistory","library","add","faBookmark","faReply","faGlobe","faMap","faMapMarkerAlt","faBars","faChevronUp","faChevronDown","faExchangeAlt","faBackspace","farBookmark","faBus","faMapPin","createApp","App","use","bootstrap","FontAwesomeIcon","mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASY,EAAe5B,GACvB,OAAOyB,EAAoBI,EAAI,OAAS,GAAG7B,IAAUA,GAAW,IAAM,CAAC,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,YAAYA,GAAW,MAIhO,SAASyB,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU+B,QAGnC,IAAIC,EAASJ,EAAiB5B,GAAY,CACzCK,EAAGL,EACHiC,GAAG,EACHF,QAAS,IAUV,OANAjB,EAAQd,GAAUW,KAAKqB,EAAOD,QAASC,EAAQA,EAAOD,QAASL,GAG/DM,EAAOC,GAAI,EAGJD,EAAOD,QAKfL,EAAoBQ,EAAI,SAAuBjC,GAC9C,IAAIkC,EAAW,GAKXC,EAAqBxB,EAAgBX,GACzC,GAA0B,IAAvBmC,EAGF,GAAGA,EACFD,EAAStB,KAAKuB,EAAmB,QAC3B,CAEN,IAAIC,EAAU,IAAIC,SAAQ,SAASC,EAASC,GAC3CJ,EAAqBxB,EAAgBX,GAAW,CAACsC,EAASC,MAE3DL,EAAStB,KAAKuB,EAAmB,GAAKC,GAGtC,IACII,EADAC,EAASC,SAASC,cAAc,UAGpCF,EAAOG,QAAU,QACjBH,EAAOI,QAAU,IACbpB,EAAoBqB,IACvBL,EAAOM,aAAa,QAAStB,EAAoBqB,IAElDL,EAAOO,IAAMpB,EAAe5B,GAG5B,IAAIiD,EAAQ,IAAIC,MAChBV,EAAmB,SAAUW,GAE5BV,EAAOW,QAAUX,EAAOY,OAAS,KACjCC,aAAaT,GACb,IAAIU,EAAQ5C,EAAgBX,GAC5B,GAAa,IAAVuD,EAAa,CACf,GAAGA,EAAO,CACT,IAAIC,EAAYL,IAAyB,SAAfA,EAAMM,KAAkB,UAAYN,EAAMM,MAChEC,EAAUP,GAASA,EAAMQ,QAAUR,EAAMQ,OAAOX,IACpDC,EAAMW,QAAU,iBAAmB5D,EAAU,cAAgBwD,EAAY,KAAOE,EAAU,IAC1FT,EAAMY,KAAO,iBACbZ,EAAMQ,KAAOD,EACbP,EAAMa,QAAUJ,EAChBH,EAAM,GAAGN,GAEVtC,EAAgBX,QAAW+D,IAG7B,IAAIlB,EAAUmB,YAAW,WACxBxB,EAAiB,CAAEiB,KAAM,UAAWE,OAAQlB,MAC1C,MACHA,EAAOW,QAAUX,EAAOY,OAASb,EACjCE,SAASuB,KAAKC,YAAYzB,GAG5B,OAAOJ,QAAQ8B,IAAIjC,IAIpBT,EAAoB2C,EAAIvD,EAGxBY,EAAoB4C,EAAI1C,EAGxBF,EAAoB6C,EAAI,SAASxC,EAAS+B,EAAMU,GAC3C9C,EAAoB+C,EAAE1C,EAAS+B,IAClCtD,OAAOkE,eAAe3C,EAAS+B,EAAM,CAAEa,YAAY,EAAMC,IAAKJ,KAKhE9C,EAAoBmD,EAAI,SAAS9C,GACX,qBAAX+C,QAA0BA,OAAOC,aAC1CvE,OAAOkE,eAAe3C,EAAS+C,OAAOC,YAAa,CAAEC,MAAO,WAE7DxE,OAAOkE,eAAe3C,EAAS,aAAc,CAAEiD,OAAO,KAQvDtD,EAAoBuD,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQtD,EAAoBsD,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAK5E,OAAO6E,OAAO,MAGvB,GAFA3D,EAAoBmD,EAAEO,GACtB5E,OAAOkE,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOtD,EAAoB6C,EAAEa,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIR1D,EAAoB8D,EAAI,SAASxD,GAChC,IAAIwC,EAASxC,GAAUA,EAAOmD,WAC7B,WAAwB,OAAOnD,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAN,EAAoB6C,EAAEC,EAAQ,IAAKA,GAC5BA,GAIR9C,EAAoB+C,EAAI,SAASgB,EAAQC,GAAY,OAAOlF,OAAOC,UAAUC,eAAeC,KAAK8E,EAAQC,IAGzGhE,EAAoBI,EAAI,oBAGxBJ,EAAoBiE,GAAK,SAASC,GAA2B,MAApBC,QAAQ3C,MAAM0C,GAAYA,GAEnE,IAAIE,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAWjF,KAAK0E,KAAKO,GAC5CA,EAAWjF,KAAOf,EAClBgG,EAAaA,EAAWG,QACxB,IAAI,IAAI5F,EAAI,EAAGA,EAAIyF,EAAWvF,OAAQF,IAAKP,EAAqBgG,EAAWzF,IAC3E,IAAIU,EAAsBiF,EAI1B/E,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6EC5NT,W,2ECAA,W,2DCAA,W,6MCCU+E,MAAM,uD,EACZ,eAAgD,OAA3CjD,IAAA,IAAwBkD,IAAI,GAAGC,OAAO,I,YAClCF,MAAM,qD,EAOb,eAAwC,QAAlCA,MAAM,WAAU,eAAW,G,EAcrC,eAES,UAFDA,MAAM,mEAAkE,sCAEhF,G,+KAzBA,eAoBS,SApBT,EAoBS,CAnBP,EACA,eAiBU,UAjBV,EAiBU,C,eAhBR,eAKE,GAJCG,KAAM,CAAC,MAAO,SACfH,MAAM,OACL,YAAS,eAAe,EAAAI,WAAU,qB,iCAChB,MAAX,EAAAC,OAAOC,QAEjB,E,eACA,eAQE,GAPCH,KAAM,CAAC,MAAO,QACfH,MAAM,OAENO,iBAAe,YACfC,KAAK,QACLC,KAAK,SACLC,gBAAc,oB,mBAJK,MAAX,EAAAL,OAAOC,YAQrB,eAAQ,GACR,eAA0C,GAA7BK,MAAA,0BACb,G,uBCtBEX,MAAM,0BACNY,SAAS,KACTC,GAAG,OACHC,IAAI,OACJC,kBAAgB,yB,EAEhB,eAOM,OAPDf,MAAM,oBAAkB,CAC3B,eAKU,UAJRxC,KAAK,SACLwC,MAAM,+BACNgB,kBAAgB,YAChBC,aAAW,Y,KAQX,eAAgD,OAA3ClE,IAAA,IAAwBkD,IAAI,GAAGC,OAAO,I,WAC3C,eAAqC,KAAlCF,MAAM,cAAa,eAAW,G,EAGjC,eAA0B,OAArBA,MAAM,MAAK,QAAI,G,EACpB,eAAiD,SAA1CA,MAAM,gBAAe,iBAAa,G,EAGzC,eAA0B,OAArBA,MAAM,MAAK,QAAI,G,EACpB,eAA+C,SAAxCA,MAAM,gBAAe,eAAW,G,EAGvC,eAA0B,OAArBA,MAAM,MAAK,QAAI,G,EACpB,eAA6C,SAAtCA,MAAM,gBAAe,aAAS,G,EAGvC,eAAsF,UAA9EA,MAAM,gCAA+B,oCAAgC,G,oFApCjF,eAsCQ,QAtCR,EAsCQ,CA/BN,EAQA,eAsBM,OArBJA,MAAM,oEACL,YAAS,8BAAE,EAAAkB,WAAA,EAAAA,UAAA,sB,CAEZ,eAGc,GAHDC,GAAG,IAAInB,MAAM,O,yBACxB,iBAAgD,CAAhD,EACA,M,MAEF,eAGc,GAHDmB,GAAG,OAAOnB,MAAM,O,yBAC3B,iBAA0B,CAA1B,EACA,M,MAEF,eAGc,GAHDmB,GAAG,WAAWnB,MAAM,O,yBAC/B,iBAA0B,CAA1B,EACA,M,MAEF,eAGc,GAHDmB,GAAG,mBAAmBnB,MAAM,O,yBACvC,iBAA0B,CAA1B,EACA,M,MAGF,G,UAQS,OACbpC,KAAM,OACNwD,MAFa,WAGX,IAAMC,EAAO,eAAI,MACbC,EAAc,GAElB,eAAMD,GAAM,SAACE,EAAQC,GACfD,GAAUA,IAAWC,IACvBF,EAAc,IAAI,eAAoBC,OAG1C,IAAML,EAAY,WAChBI,EAAYG,QAEd,MAAO,CACLJ,OACAH,e,qBCxDN,MAAMQ,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,QFyBA,GACb9D,KAAM,MACN+D,WAAY,CACVC,QAEFR,MALa,WAMX,IAAMS,EAAS,iBACTzB,EAAa,WACjByB,EAAOC,IAAI,IAGb,MAAO,CACL1B,gB,UGrCN,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS2B,KAErD,Q,GCRJ/B,MAAM,kB,GACRA,MAAM,qB,EAEP,eAA0B,OAArBA,MAAM,MAAK,QAAI,G,EACpB,eAAiD,SAA1CA,MAAM,gBAAe,iBAAa,G,EAGzC,eAA0B,OAArBA,MAAM,MAAK,QAAI,G,EACpB,eAA+C,SAAxCA,MAAM,gBAAe,eAAW,G,EAGvC,eAA0B,OAArBA,MAAM,MAAK,QAAI,G,EACpB,eAA6C,SAAtCA,MAAM,gBAAe,aAAS,G,GAGpCW,MAAA,2B,SAEDX,MAAM,+DACNW,MAAA,iB,EAGA,eAA4C,OAAvCX,MAAM,cAAa,kBAAc,G,SAQnCA,MAAM,iC,EACT,eAAkC,OAA7BA,MAAM,cAAa,QAAI,G,SAE1BA,MAAM,4C,GAKEA,MAAM,c,GACJA,MAAM,W,IACLA,MAAM,sB,IAETA,MAAM,c,IACJA,MAAM,W,IACLA,MAAM,sB,IAETA,MAAM,Y,6BAOoC,Y,qFApD1D,eAuDU,UAvDV,EAuDU,CAtDR,eAaM,MAbN,EAaM,CAZJ,eAGc,GAHDmB,GAAG,OAAOnB,MAAM,sC,yBAC3B,iBAA0B,CAA1B,EACA,M,MAEF,eAGc,GAHDmB,GAAG,WAAWnB,MAAM,sC,yBAC/B,iBAA0B,CAA1B,EACA,M,MAEF,eAGc,GAHDmB,GAAG,mBAAmBnB,MAAM,sC,yBACvC,iBAA0B,CAA1B,EACA,M,QAGJ,eAuCM,MAvCN,EAuCM,CAnCK,EAAAgC,S,wCAHT,eAYM,MAZN,EAYM,CAPJ,EACA,eAKS,UAJPhC,MAAM,iDACL,YAAS,8CAAe,EAAAiC,iBAAA,EAAAA,gBAAA,qBAAe,sBACzC,WAED,OAE+C,EAAAD,U,iBAAjD,eAwBM,MAxBN,EAwBM,CAvBJ,EAGkC,IAA1B,EAAAE,oBAAoB7H,Q,iBAF5B,eAmBQ,QAnBR,EAmBQ,CAfN,eAcQ,e,mBAbN,eAYK,2BAZc,EAAA6H,qBAAmB,SAA3BC,G,wBAAX,eAYK,MAZoC/C,IAAK+C,EAAKC,S,CACjD,eAGK,KAHL,EAGK,CAFH,eAAmD,KAAnD,EAAmD,eAA5BD,EAAKE,UAAUC,OAAK,GAC3C,eAAuE,MAAvE,GAAgC,IAAC,eAAGH,EAAKI,uBAAqB,KAEhE,eAGK,KAHL,GAGK,CAFH,eAAkD,KAAlD,GAAkD,eAA3BJ,EAAKK,SAASF,OAAK,GAC1C,eAA2D,MAA3D,GAA2D,eAAxBH,EAAKM,UAAW,KAAE,KAEvD,eAEK,KAFL,GAEK,eADAN,EAAKO,cAAY,Q,6BAK5B,eAAuB,OAAb,cACV,eAA0E,GAA7DvB,GAAG,WAAWnB,MAAM,oB,yBAAmB,iBAAQ,C,kTCrDrD,SAAS2C,GAAiBC,GACvC,IAAMC,EAAO,OACPC,EAAO,OACPC,EAAQH,EAASI,QAAQ,KAC3BC,EAAcL,EAASM,UAAUH,GASrC,OARAE,EAAcA,EAAYE,QAAQN,EAAM,MACxCI,EAAcA,EAAYE,QAAQL,EAAM,MACxCG,EAAcA,EAAYG,WAAW,aAAc,OACnDH,EAAcA,EAAYG,WAAW,IAAK,KAC1CH,EAAcI,KAAKC,MAAML,GACzBA,EAAYM,SAAQ,SAACC,GACnBA,EAAIC,aAEC,CACLjG,KAAM,aACNkG,YAAaT,GCDFU,uBAAY,CACzBC,MAAO,CACLC,IAAK,CACHC,UAAW,uDACXC,UAAW,uDACXC,cAAe,wEACfC,wBAAyB,qEACzBC,qBAAsB,kEACtBC,gBAAiB,6DACjBC,YAAa,yDACbC,cAAe,2DACfxD,GAAIyD,mCACJlF,IAAKkF,+BAEPC,KAAM,CACJC,OAAQ,MACRC,UAAW,MACXC,QAAS,MACTC,SAAU,MACVC,OAAQ,MACRC,UAAW,MACXC,QAAS,MACTC,QAAS,MACTC,cAAe,MACfC,aAAc,MACdC,eAAgB,MAChBC,aAAc,MACdC,aAAc,MACdC,aAAc,MACdC,OAAQ,MACRC,eAAgB,MAChBC,YAAa,MACbC,cAAe,MACfC,cAAe,MACfC,aAAc,MACdC,aAAc,MACdC,iBAAkB,OAGpBC,OAAQ,CAAC,CACPC,SAAU,GACV1D,UAAW,CACTC,MAAO,MAKX0D,cAAe,CAEbC,MAAO,CACLrD,SAAU,CACRpF,KAAM,GACNkG,YAAa,KAIjBwC,MAAO,CAAC,CACNC,OAAQ,GACRC,aAAc,CACZC,YAAa,GACbC,YAAa,MAIjBC,UAAW,GAEXC,oBAAqB,GAErBC,iBAAkB,IAGpBzE,SAAU,CACR0E,IAAK,GACLC,IAAK,GACLpC,KAAM,IAGRqC,gBAAiB,IAEnBC,QAAS,CACPC,QAAS,SAAClD,GACR,MAAoBA,EAAMC,IAAlBzE,EAAR,EAAQA,IAAKyB,EAAb,EAAaA,GACPkG,GAAU,IAAIC,MAAOC,cACrBC,EAAOC,KAAS,WAAD,OAAYJ,GAAW3H,GACtCgI,EAASC,KAAOC,UAAUJ,GAChC,MAAO,CACLK,QAAS,MACTT,QAAS,CACPU,cAAe,kBAAF,OAAoB3G,EAApB,kEAAgFuG,EAAhF,KACb,SAAUL,KAIhBU,YAAa,SAAC7D,GAAD,OAAW,SAAC8D,GACvB,IAAMC,EAAQ/D,EAAMkC,OAAO8B,QAAO,SAACC,GAAD,OAASA,EAAI9B,WAAa2B,KAC5D,OAAOC,IAETG,gBAAiB,SAAClE,GAAD,OAAW,SAACmE,GAC3B,GAAyC,IAArCnE,EAAMoC,cAAcE,MAAM7L,OAAc,CAC1C,IAAM2N,EAAQpE,EAAMoC,cAAcE,MAAM0B,QAAO,SAACK,GAAD,OAASA,EAAIC,YAAcH,KAC1E,OAAOC,EAET,MAAO,KAETG,uBAAwB,SAACvE,GAAD,OAAW,SAACmE,GAClC,IAAQtB,EAAqB7C,EAAMoC,cAA3BS,iBACR,GAAgC,IAA5BA,EAAiBpM,OAAc,CACjC,IAAM8H,EAAOsE,EAAiBmB,QAAO,SAACK,GAAD,OAASA,EAAIC,YAAcH,KAChE,OAAO5F,EAET,MAAO,KAETiG,0BAA2B,SAACxE,GAAD,OAAW,SAACmE,GACrC,IAAQvB,EAAwB5C,EAAMoC,cAA9BQ,oBACR,GAAmC,IAA/BA,EAAoBnM,OAAc,CACpC,IAAMgO,EAAQ7B,EAAoBoB,QAAO,SAACK,GAAD,OAASA,EAAIC,YAAcH,KACpE,OAAOM,EAET,MAAO,KAETC,mBAAoB,SAAC1E,GAAD,OAAW,SAACmE,GAC9B,GAA6C,IAAzCnE,EAAMoC,cAAcO,UAAUlM,OAAc,CAC9C,IAAMkO,EAAU3E,EAAMoC,cAAcO,UAAUiC,QAAO,SAACC,EAAKC,GACzD,OAAKD,EAAIE,MAAK,SAACC,GAAD,OAAUA,EAAKxG,UAAYsG,EAAItG,SAC7CwG,EAAKV,YAAcQ,EAAIR,aAGhBO,EAFL,0BAAWA,GAAX,CAAgBC,MAGjB,IACGvG,EAAOoG,EAAQX,QAAO,SAACK,GAAD,OAASA,EAAIC,YAAcH,KACvD,OAAO5F,EAET,MAAO,KAET0G,sBAAuB,SAACjF,GACtB,MAAqBA,EAAM5B,SAAnB0E,EAAR,EAAQA,IAAKC,EAAb,EAAaA,IACPmC,EAAWlF,EAAMgD,gBAAgB4B,QAAO,SAACC,EAAKC,GAClD,IAAIK,EAAWN,EAUf,OATAC,EAAIxC,MAAM3C,SAAQ,SAACqF,GACjB,IAAIH,EAAIE,MAAK,SAACxG,GAAD,OAAUA,EAAKC,UAAYwG,EAAKxG,WAA7C,CAIA,MAAqCsG,EAAIM,gBAAjC1C,EAAR,EAAQA,YAAaD,EAArB,EAAqBA,YACf5D,EAAWwG,KAAKC,KAAuD,IAAlDC,gBAAYxC,EAAKD,EAAKJ,EAAaD,IAC9D0C,EAAW,GAAH,uBAAON,GAAP,oCAAiBG,GAAjB,IAAuBnG,mBAE1BsG,IACN,IACH,OAAOD,IAGXM,UAAW,CACTC,aADS,SACIzF,EAAO0F,GAClB,IAAMC,EAAelG,KAAKC,MAAMkG,aAAaC,QAAQ,kBAAoB,GACzEH,EAAQ/F,SAAQ,SAACoE,GACf,IAAM+B,EAAY/B,EACd4B,EAAaZ,MAAK,SAACC,GAAD,OAAUA,EAAK7C,WAAa4B,EAAM5B,YACtD2D,EAAUC,WAAY,EAEtBD,EAAUC,WAAY,KAG1B/F,EAAMkC,OAASwD,GAEjBM,aAbS,SAaIhG,EAAO0F,GAClB,IAAMrD,EAAQqD,EACdrD,EAAMrD,SAAWD,GAAiBsD,EAAMrD,UACxCgB,EAAMoC,cAAcC,MAAQA,GAE9B4D,YAlBS,SAkBGjG,EAAO0F,GACjBA,EAAQ/F,SAAQ,SAACqF,GACfA,EAAK1C,MAAM3C,SAAQ,SAACpB,GAClB,IAAM2G,EAAW3G,EACX2H,EAAiBzG,KAAKC,MAAMkG,aAAaC,QAAQ,oBAAsB,GACzEK,EAAenB,MAAK,SAACoB,GAAD,OAAaA,EAAQ5H,KAAKC,UAAYD,EAAKC,WACjE0G,EAASa,WAAY,EAErBb,EAASa,WAAY,QAI3B/F,EAAMoC,cAAcE,MAAQoD,GAE9BU,2BAhCS,SAgCkBpG,EAAO0F,GAChC1F,EAAMoC,cAAcQ,oBAAsB8C,GAE5CW,wBAnCS,SAmCerG,EAAO0F,GAC7B1F,EAAMoC,cAAcS,iBAAmB6C,GAEzCY,iBAtCS,SAsCQtG,EAAO0F,GACtB1F,EAAMoC,cAAcO,UAAY+C,GAElCa,sBAzCS,SAyCavG,GACpBA,EAAMgD,gBAAkB,IAE1BwD,oBA5CS,SA4CWxG,EAAO0F,GACzB1F,EAAMgD,gBAAkB0C,GAE1Be,YA/CS,SA+CGzG,EAAO0F,GACjB1F,EAAM5B,SAAWsH,IAGrBgB,QAAS,CAEDC,QAFC,WAEmCjB,GAAS,kLAAnC1F,EAAmC,EAAnCA,MAAOiD,EAA4B,EAA5BA,QAAS2D,EAAmB,EAAnBA,OAAmB,EAQ7C5G,EAAMC,IANGoC,EAFoC,EAE/CnC,UACW6D,EAHoC,EAG/C5D,UACiB5B,EAJ8B,EAI/CgC,gBACsBsG,EALyB,EAK/CvG,qBACyBwG,EANsB,EAM/CzG,wBACe0G,EAPgC,EAO/C3G,cAEMxG,EAAmC8L,EAAnC9L,KAAMoN,EAA6BtB,EAA7BsB,UAAWrG,EAAkB+E,EAAlB/E,KAAMmD,EAAY4B,EAAZ5B,QATkB,KAczClK,EAdyC,OAe1C,UAf0C,OAuB1C,cAvB0C,QA+B1C,UA/B0C,QAuC1C,SAvC0C,QA+C1C,qBA/C0C,QAuD1C,wBAvD0C,wCAgBjCqN,MAAM,GAAD,OAAIlD,GAAJ,OAAYpD,EAAZ,YAAoBqG,EAApB,iBAA8C/D,EAAQC,SAhB1B,UAgB7CgE,EAhB6C,QAiBzCA,EAAIC,GAjBqC,kCAkB9BD,EAAIE,OAlB0B,QAkB3CnR,EAlB2C,OAmB3C2Q,EAAO,eAAgB3Q,GAnBoB,6DAwBjCgR,MAAM,GAAD,OAAIF,GAAJ,OAAgBpG,EAAhB,YAAwBqG,EAAxB,iCAA0DlD,EAA1D,wCAAyGb,EAAQC,SAxBrF,WAwB7CgE,EAxB6C,QAyBzCA,EAAIC,GAzBqC,kCA0B9BD,EAAIE,OA1B0B,QA0B3CnR,EA1B2C,OA2B3C2Q,EAAO,mBAAoB3Q,GA3BgB,6DAgCjCgR,MAAM,GAAD,OAAI5E,GAAJ,OAAY1B,EAAZ,YAAoBqG,EAApB,iCAAsDlD,EAAtD,kBAA+Eb,EAAQC,SAhC3D,WAgC7CgE,EAhC6C,QAiCzCA,EAAIC,GAjCqC,kCAkC9BD,EAAIE,OAlC0B,QAkC3CnR,EAlC2C,OAmC3C2Q,EAAO,eAAgB3Q,EAAK,IAnCe,6DAwCjCgR,MAAM,GAAD,OAAI1I,GAAJ,OAAWoC,EAAX,YAAmBqG,EAAnB,iCAAqDlD,EAArD,kBAA8Eb,EAAQC,SAxC1D,WAwC7CgE,EAxC6C,QAyCzCA,EAAIC,GAzCqC,kCA0C9BD,EAAIE,OA1C0B,QA0C3CnR,EA1C2C,OA2C3C2Q,EAAO,cAAe3Q,GA3CqB,6DAgDjCgR,MAAM,GAAD,OAAIJ,GAAJ,OAAuBlG,EAAvB,YAA+BqG,EAA/B,iCAAiElD,EAAjE,kBAA0Fb,EAAQC,SAhDtE,WAgD7CgE,EAhD6C,QAiDzCA,EAAIC,GAjDqC,kCAkD9BD,EAAIE,OAlD0B,QAkD3CnR,EAlD2C,OAmD3C2Q,EAAO,0BAA2B3Q,GAnDS,6DAwDjCgR,MAAM,GAAD,OAAIH,GAAJ,OAA0BnG,EAA1B,YAAkCqG,EAAlC,iCAAoElD,EAApE,0BAAqGb,EAAQC,SAxDjF,WAwD7CgE,EAxD6C,QAyDzCA,EAAIC,GAzDqC,kCA0D9BD,EAAIE,OA1D0B,QA0D3CnR,EA1D2C,OA2D3C2Q,EAAO,6BAA8B3Q,GA3DM,uHAmE7CuQ,oBArEC,WAqE+Cd,GAAS,uLAAnC1F,EAAmC,EAAnCA,MAAOiD,EAA4B,EAA5BA,QAAS2D,EAAmB,EAAnBA,OAE1CA,EAAO,yBAEC9D,EAA+B4C,EAA/B5C,IAAKC,EAA0B2C,EAA1B3C,IAAKsE,EAAqB3B,EAArB2B,iBAJ2C,EASzDrH,EAAMC,IAFOqH,EAP4C,EAO3D7G,cACa0F,EAR8C,EAQ3D3F,YAR2D,SAUnCyG,MAAM,GAAD,OAAIK,EAAJ,eAAqBxE,EAArB,gBAAgCC,EAAhC,wBAV8B,cAUvDwE,EAVuD,gBAWlCA,EAAYH,OAXsB,UAWvDI,EAXuD,OAYvD7G,EAAO6G,EAAaC,QAAQC,OAAOnI,QAAQ,IAAK,KAAOiI,EAAaC,QAAQ9G,KAAKpB,QAAQ,IAAK,IACpGqH,EAAO,cAAe,CAAE9D,MAAKC,MAAKpC,SAE7BA,EAAKgH,SAAS,YAAehH,EAAKgH,SAAS,cAfa,kCAgBzCV,MAAM,GAAD,OAAId,GAAJ,OAAcxF,EAAd,kCAA4CmC,EAA5C,aAAoDC,EAApD,aAA4DsE,EAA5D,kBAA8FpE,EAAQC,SAhBlE,eAgBrDgE,EAhBqD,iBAiBxCA,EAAIE,OAjBoC,QAiBrDnR,EAjBqD,OAkBvDiR,EAAIC,IAAsB,IAAhBlR,EAAKQ,SACXmR,EAAU3R,EAAK2O,QAAO,SAACC,EAAKC,GAChC,OAAKD,EAAIE,MAAK,SAACC,GAAD,OAAUA,EAAK6C,iBAAmB/C,EAAI+C,kBAG7ChD,EAFL,0BAAWA,GAAX,CAAgBC,MAGjB,IACH8B,EAAO,sBAAuBgB,IAzB2B,+CA6BzDE,mBAlGC,WAkGsCpC,GAAS,0KAA3B1F,EAA2B,EAA3BA,MAAOiD,EAAoB,EAApBA,QAAoB,EACGjD,EAAMC,IAA1C8D,EADiC,EAC5C5D,UAAiC4G,EADW,EAC1B3G,cAClBO,EAA6C+E,EAA7C/E,KAAMlC,EAAuCiH,EAAvCjH,UAAW0D,EAA4BuD,EAA5BvD,SAAUvI,EAAkB8L,EAAlB9L,KAAM4E,EAAYkH,EAAZlH,QAFW,KAI5C5E,EAJ4C,OAK7C,UAL6C,OAQ7C,cAR6C,wCAMpCqN,MAAM,GAAD,OAAIlD,GAAJ,OAAYpD,EAAZ,YAAoBlC,EAApB,gEAAqF0D,EAArF,kBAA+Gc,EAAQC,SANxF,cAMhDgE,EANgD,qDASpCD,MAAM,GAAD,OAAIF,GAAJ,OAAgBpG,EAAhB,YAAwBlC,EAAxB,iCAA0D0D,EAA1D,6BAAuF3D,EAAvF,gDAA8IyE,EAAQC,SATvH,eAShDgE,EATgD,4EAehDA,EAAIC,GAf4C,kCAgB/BD,EAAIE,OAhB2B,eAgB5CnR,EAhB4C,yBAiB3CA,GAjB2C,iCAmB7C,IAnB6C,gDAsBxDe,QAAS,KC/UI,SAASyP,GAAYY,GAClC,GAAIU,UAAUC,YAAa,CACzB,IAAMC,EAAU,CACdC,oBAAoB,EACpBlP,QAAS,IACTmP,WAAY,GAGRC,EAAU,SAACC,GACf,IAAMC,EAAMD,EAAIE,OAChBxM,QAAQyM,IAAIF,GACZ,IAAkBxF,EAAwBwF,EAAlCG,SAA0B1F,EAAQuF,EAAnBI,UACvBC,GAAMC,SAAS,sBAAuB,CAAE9F,MAAKC,MAAKsE,sBAGpDU,UAAUC,YAAYa,mBACpBT,GACA,SAACtM,GACCC,QAAQyM,IAAI1M,KAEdmM,QAGFa,MAAM,mBHwCK,QACb9O,KAAM,OACN+D,WAAY,GACZP,MAHa,WAIX,MAAqC,kBAA7BwC,EAAR,EAAQA,MAAOiD,EAAf,EAAeA,QAAS2F,EAAxB,EAAwBA,SAClBxK,EAAW,gBAAI,GAEf4E,EAAkB,gBAAS,kBAAMC,EAAQgC,sBAAsB9I,MAAM,EAAG,MACxEmC,EAAsB,eAAI,IAE1BqC,EAAO,gBAAS,kBAAMX,EAAM5B,SAASuC,QAErCtC,EAAkB,WACtBD,EAASlD,OAAQ,EACjBuL,GAAY,MAuCd,OApCA,eAAMzD,GAAiB,SAACrF,EAAQC,GACR,IAAlBD,EAAOlH,QAAgBkH,IAAWC,GACpCD,EAAOgC,SAAQ,SAACqF,GACd,IAAMzG,EAAOyG,EACP+D,EAAwBH,EAAS,qBAAsB,CAC3DhP,KAAM,QACN+G,KAAMA,EAAKzF,MACXuD,UAAWF,EAAKE,UAAUC,MAC1ByD,SAAU5D,EAAK4D,WAEX6G,EAAkBJ,EAAS,qBAAsB,CACrDhP,KAAM,YACN+G,KAAMA,EAAKzF,MACXuD,UAAWF,EAAKE,UAAUC,MAC1ByD,SAAU5D,EAAK4D,SACf3D,QAASD,EAAKC,UAGhBhG,QAAQ8B,IAAI,CAACyO,EAAuBC,IAAkBC,MAAK,SAAC/B,GAC1D,sBAAiCA,EAAjC,GAAOgC,EAAP,KAAoBnC,EAApB,KACAhL,QAAQyM,IAAIU,EAAanC,GACzBzI,EAAoBpD,MAApB,0BACKoD,EAAoBpD,OADzB,oCAGOqD,GAHP,IAIII,sBAAuBuK,EAAY,GAAGvK,sBACtCG,aAAciI,EAAU,GAAV,UACT1B,KAAKC,KAAKyB,EAAU,GAAGjI,aAAe,IAD7B,KAEZ,mBAQP,CACLV,WACAC,kBACA2E,kBACA1E,yBIrHN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U,sFCNJlC,MAAM,gBAAgBW,MAAA,yB,IACxBX,MAAM,WAAWc,IAAI,Y,IAEtBd,MAAM,sCACNxC,KAAK,SACL+C,iBAAe,WACfwM,qBAAmB,OACnBC,gBAAc,S,IAKZhN,MAAM,wD,uCAqBHA,MAAM,Q,yBACb,eAAkC,OAA7BA,MAAM,cAAa,QAAI,M,IAO9BA,MAAM,qDACNW,MAAA,oB,IAEKX,MAAM,mD,UACNA,MAAM,Q,UACJA,MAAM,4D,IAiBJA,MAAM,O,IACDA,MAAM,kC,IAEXA,MAAM,O,IACDA,MAAM,kC,IAGNA,MAAM,kC,IAGXA,MAAM,O,IACDA,MAAM,kC,IAEXA,MAAM,O,IACDA,MAAM,kC,IAGNA,MAAM,kC,IAKXA,MAAM,O,IACDA,MAAM,kC,IAEXA,MAAM,O,IACDA,MAAM,kC,IAGNA,MAAM,kC,IAIXA,MAAM,O,IAKNA,MAAM,O,yBAKX,eAEM,OAFDA,MAAM,OAAK,CACd,eAAyD,UAAjDA,MAAM,kCAAiC,O,UAE5CA,MAAM,O,IASNA,MAAM,O,oJAtHjB,eAqCU,UArCV,GAqCU,CApCR,eA6BM,MA7BN,GA6BM,CA5BJ,eASS,SATT,GASS,C,8BAFJ,EAAAiN,OAAA,UAAY,EAAAA,OAAO/J,UAAS,KAA5B,MAA4B,QAAsB,IACrD,kBAAuE,GAAnD/C,KAAM,CAAC,MAAO,gBAAiBH,MAAM,gBAE3D,eAiBK,KAjBL,GAiBK,CAhBH,eAKK,MAJHA,MAAM,kDACL,YAAS,8CAAe,EAAAkN,eAAA,EAAAA,cAAA,qBAAa,sB,CAEtC,eAAmF,GAA/D/M,KAAM,CAAC,MAAO,cAAgB,YAAS,eAAO,EAAA+M,cAAa,W,iDAEjF,eASK,2BAPmB,EAAAC,SAAO,SAArB5I,EAAMnF,G,wBAFhB,eASK,MARHY,MAAM,0BAELZ,IAAKA,EACLgO,eAAchO,EACdiO,eAAc9I,EACd,YAAS,8CAAe,EAAA+I,aAAA,EAAAA,YAAA,qBAAW,sB,eAEjC/I,EAAKrB,UAAS,MAAS,MAC5B,U,cAKJ,eAGU,UAHV,GAGU,CAFR,GACA,eAAY,O,eAIhB,eA0FU,UA1FV,GA0FU,CArFR,eAoFM,MApFN,GAoFM,CAnFkB,EAAAqK,U,iBAAtB,eAAmD,IAAnD,GAAmD,eAAhB,EAAA3C,WAAS,K,iBAC5C,eAcM,MAdN,GAcM,C,eAbJ,eAME,SALApN,KAAK,OACLsD,IAAI,iB,qDACK,EAAA8J,UAAS,IAClBjK,MAAA,wBACAX,MAAM,yC,mBAFG,EAAA4K,aAIX,eAKS,UAJP5K,MAAM,sCACL,YAAS,8CAAe,EAAAwN,gBAAA,EAAAA,eAAA,qBAAc,sB,CAEvC,eAA8C,GAA1BrN,KAAM,CAAC,MAAO,Y,OAIY,EAAAoN,U,iBAAlD,eAiEM,O,MAjEDvN,MAAM,iCAAkD,YAAS,8CAAO,EAAAyN,cAAA,EAAAA,aAAA,qBAAY,Y,CACvF,eAEM,MAFN,GAEM,CADJ,eAAkF,SAAlF,GAAkF,eAAhC,EAAA5B,QAAO,eAE3D,eAEM,MAFN,GAEM,CADJ,eAAkF,SAAlF,GAAkF,eAAhC,EAAAA,QAAO,gB,iBAE3D,eAEM,2BAFuB,GAAC,SAANvM,G,OAAxB,eAEM,OAFDU,MAAM,MAAsBZ,IAAKE,G,CACpC,eAA+D,SAA/D,GAA+D,eAAbA,GAAC,Q,KAGrD,eAEM,MAFN,GAEM,CADJ,eAAkF,SAAlF,GAAkF,eAAhC,EAAAuM,QAAO,eAE3D,eAEM,MAFN,GAEM,CADJ,eAAiF,SAAjF,GAAiF,eAA/B,EAAAA,QAAO,e,iBAE3D,eAIM,2BAJuB,GAAC,SAANvM,G,OAAxB,eAIM,OAJDU,MAAM,MAAsBZ,IAAKE,G,CACpC,eAES,SAFT,GAES,eADJA,EAAI,GAAH,Q,KAIR,eAEM,MAFN,GAEM,CADJ,eAAkF,SAAlF,GAAkF,eAAhC,EAAAuM,QAAO,eAE3D,eAEM,MAFN,GAEM,CADJ,eAAkF,SAAlF,GAAkF,eAAhC,EAAAA,QAAO,gB,iBAE3D,eAIM,2BAJuB,GAAC,SAANvM,G,OAAxB,eAIM,OAJDU,MAAM,MAAsBZ,IAAKE,G,CACpC,eAES,SAFT,GAES,eADJA,EAAI,GAAH,Q,KAGR,eAIM,MAJN,GAIM,CAHJ,eAES,UAFDU,MAAM,iCAAkC,YAAS,8CAAO,EAAAwN,gBAAA,EAAAA,eAAA,qBAAc,Y,CAC5E,eAA8C,GAA1BrN,KAAM,CAAC,MAAO,Y,MAGtC,eAIM,MAJN,GAIM,CAHJ,eAES,UAFDH,MAAM,iCAAkC,YAAS,8CAAO,EAAA0N,eAAA,EAAAA,cAAA,qBAAa,Y,eACxE,EAAA7B,QAAO,iBAGd,GAGA,eAQM,MARN,GAQM,CAPJ,eAMS,UALP7L,MAAM,iCACN2N,aAAW,MACV,YAAS,8CAAO,EAAAC,YAAA,EAAAA,WAAA,qBAAU,YAC5B,OAED,MAEF,eAQM,MARN,GAQM,CAPJ,eAMS,UALP5N,MAAM,iCACN2N,aAAW,IACV,YAAS,8CAAO,EAAAC,YAAA,EAAAA,WAAA,qBAAU,Y,CAE3B,eAAkD,GAA9BzN,KAAM,CAAC,MAAO,gB,mDApFlC,EAAA0N,mB,4BCxCL7N,MAAM,a,uCAWFA,MAAM,Y,IACNA,MAAM,mB,6BAaTA,MAAM,4B,6FAzB8B,IAAb,EAAA8F,OAAOzL,QAAgB,EAAAyL,OAAM,GAAIC,U,iBAA9D,eAoCM,MApCN,GAoCM,E,mBAnCJ,eAkCM,2BAjCY,EAAAD,QAAM,SAAf6B,G,wBADT,eAkCM,OAhCHvI,IAAKuI,EAAM5B,SACX/F,MAAK,gB,0FAA+G,oBAAoB,EAAM,SAAQ,iBAItJ,cAAW,mCAAU,EAAA8N,cAAcC,EAAQpG,EAAM5B,YAAQ,aACzD,YAAS,mCAAU,EAAAiI,eAAerG,EAAMsG,KAAMtG,EAAMtF,UAAUC,MAAOqF,EAAM5B,YAAQ,c,CAEpF,eAAuD,MAAvD,GAAuD,eAA9B4B,EAAMtF,UAAUC,OAAK,GAC9C,eAIM,MAJN,GAIM,CAHJ,eAA4C,2BAAnCqF,EAAMuG,qBAAmB,GAClC,eAAkE,GAA9C/N,KAAM,CAAC,MAAO,gBAAiBH,MAAM,SACzD,eAA8C,2BAArC2H,EAAMpF,uBAAqB,KAInB,iBAAX,EAAAlC,OAAOzC,M,iBAFf,eAMM,O,MALJoC,MAAM,gBAEL,YAAS,mCAAe,EAAAmO,gBAAgBxG,EAAM5B,YAAQ,qB,CAEvD,eAAwF,GAApE5F,KAAI,CAAGwH,EAAMgC,UAAS,wBAA+B3J,MAAM,Q,gDAI9D,SAAX,EAAAK,OAAOC,MAAmB,EAAA8N,kBAAoBzG,EAAM5B,U,iBAF5D,eAUM,MAVN,GAUM,CANJ,eAKS,UAJP/F,MAAM,uCACL,YAAS,mCAAU,EAAAqO,cAAc1G,EAAM5B,YAAQ,cACjD,OAED,U,4GAUO,IACb3E,MADa,WAEX,MAA0B,kBAAlBwC,EAAR,EAAQA,MAAO4G,EAAf,EAAeA,OACT3I,EAAS,iBAETiE,EAAS,gBAAS,kBAAMlC,EAAMkC,UAG9BsI,EAAkB,eAAI,MAEtBJ,EAAiB,SAACzJ,EAAMqG,EAAWlD,GACnC0G,EAAgBtP,QAAU4I,GAC5B7F,EAAOlH,KAAK,CAAEiD,KAAM,UAAW0Q,OAAQ,CAAE/J,OAAMqG,YAAWlD,cAI1D6G,EAAiB,EACfT,EAAgB,SAAC9R,EAAG0L,GACxB/H,QAAQyM,IAAIvK,EAAO2M,aAAa1P,MAAMwB,MACC,SAAnCuB,EAAO2M,aAAa1P,MAAMwB,OACzBiO,EAIkC,iBAAnC1M,EAAO2M,aAAa1P,MAAMlB,MAA2B2Q,EAAiBvS,EAAEyS,QAAU,GACpFL,EAAgBtP,MAAQ4I,EACxB6G,EAAiB,GACRA,EAAiBvS,EAAEyS,QAAU,IACtCL,EAAgBtP,MAAQ,GACxByP,EAAiB,GARjBA,EAAiBvS,EAAEyS,UAYjBN,EAAkB,SAACzG,GACvB,IAAI6B,EAAelG,KAAKC,MAAMkG,aAAaC,QAAQ,kBAAoB,GACjEiF,EAAa5I,EAAOhH,MAAM6P,MAAK,SAAChH,GAAD,OAAWA,EAAM5B,WAAa2B,KAEnE,GADA/H,QAAQyM,IAAI1E,EAASgH,GACjBA,EAAW/E,UAAW,CACxB,IAAMiF,EAAarF,EAAasF,WAAU,SAAClH,GAAD,OAAWA,EAAM5B,WAAa2B,KACxE6B,EAAahO,OAAOqT,EAAY,QAEhCrF,EAAW,0BAAQA,GAAR,CAAsBmF,IAEnClF,aAAasF,QAAQ,eAAgBzL,KAAKiE,UAAUiC,IACpDiB,EAAO,eAAgB1E,EAAOhH,QAG1BuP,EAAgB,SAACxN,GACrB,IAAM0I,EAAelG,KAAKC,MAAMkG,aAAaC,QAAQ,kBAAoB,GACnEmF,EAAarF,EAAasF,WAAU,SAAClH,GAAD,OAAWA,EAAM5B,WAAalF,KACxE0I,EAAahO,OAAOqT,EAAY,GAChCpF,aAAasF,QAAQ,eAAgBzL,KAAKiE,UAAUiC,IACpDiB,EAAO,eAAgBnH,KAAKC,MAAMkG,aAAaC,QAAQ,mBAGzD,MAAO,CACL3D,SACAkI,iBACAG,kBACAL,gBACAM,kBACAC,mB,UClGN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAE1E,UF0IA,IACbzQ,KAAM,MACN+D,WAAY,CACVoN,aAEF3N,MALa,WAMX,MAA4B,kBAApBwC,EAAR,EAAQA,MAAO4I,EAAf,EAAeA,SAETW,EAAU,gBAAS,kBAAMvJ,EAAMW,QAC/ByK,EAAW,eAAI,MAEf9B,EAAgB,WACpB,IAAI,cAAmB8B,EAASlQ,OAAO2C,QAGnCoM,EAAiB,gBAAI,GAErBoB,EAAY,eAAS,CACzBC,OAAQ,GACRjC,OAAQ,GACRrC,UAAW,KAIP0C,EAAc,SAACtR,GACnBiT,EAAUC,OAASlT,EAAE0B,OAAOyR,QAAQD,OACpCD,EAAUhC,OAASjR,EAAE0B,OAAOyR,QAAQlC,OACpCgC,EAAUrE,UAAY,GACtBsC,IACAW,EAAe/O,OAAQ,GAGnB2O,EAAe,SAACzR,GACK,WAArBA,EAAE0B,OAAO0R,UACXH,EAAUrE,WAAa5O,EAAE0B,OAAO2R,cAI9BzB,EAAa,SAAC5R,GAClB,IAAQ3B,EAAW4U,EAAUrE,UAArBvQ,OACAiV,EAAUtT,EAAE0B,OAAOyR,QAAnBG,MACR,OAAQA,GACN,IAAK,MACHL,EAAUrE,UAAY,GACtB,MACF,QACEqE,EAAUrE,UAAYqE,EAAUrE,UAAU1H,UAAU,EAAG7I,EAAS,GAChE,QAIN,gBACE,kBAAM4U,EAAUrE,YADb,0DAEH,WAAOrJ,EAAQC,GAAf,qFACMD,GAAUA,IAAWC,EAD3B,gCAEUgL,EAAS,UAAW,CACxBhP,KAAM,QACNoN,UAAWqE,EAAUrE,UACrBrG,KAAM0K,EAAUC,SALtB,2CAFG,yDAcL,IAAM3B,EAAW,eAAI,QACfgC,EAAiB,eAAI,MACrB/B,EAAiB,WACrBD,EAASzO,OAASyO,EAASzO,MAC3B,gBAAS,WACPyQ,EAAezQ,MAAM0Q,YAKnB3D,EAAU,eAAI,QACd6B,EAAgB,WACpB7B,EAAQ/M,OAAS+M,EAAQ/M,OAS3B,OANA,gBAAU,WACRkQ,EAASlQ,MAAM2Q,iBAAiB,oBAAoB,WAClD5B,EAAe/O,OAAQ,QAI3B,iCACEqO,UACA6B,WACA9B,gBACAW,kBACG,eAAOoB,IALZ,IAME3B,cACAG,eACAG,aACAL,WACAgC,iBACA/B,iBACA3B,UACA6B,oB,UG/ON,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAE1E,U,ICNN1N,MAAM,4E,UACJA,MAAM,c,IACJA,MAAM,Q,IACNA,MAAM,qB,0BAQRA,MAAM,Y,IAMJA,MAAM,Q,IAwBDA,MAAM,a,UAGRA,MAAM,8C,kKA9CT,EAAA0P,W,iBAAX,eAAkF,G,MAA3D3H,UAAW,EAAAA,UAAY,kBAAiB,EAAA4H,iB,iEAC/D,eA6DU,WA7DD3P,MAAK,gBAAC,2CAA0C,YAAuB,EAAA0P,c,CAC9E,eAgBM,MAhBN,GAgBM,CAfsC,IAAZ,EAAA/H,MAAMtN,Q,iBAApC,eASM,MATN,GASM,CARJ,eAAsD,MAAtD,GAAsD,eAAjC,EAAAsN,MAAK,GAAItF,UAAUC,OAAK,GAC7C,eAMM,MANN,GAMM,CALiB,IAAT,EAAAyF,W,iBAAZ,eAAyE,UAA5C,IAAC,eAAG,EAAAJ,MAAK,GAAIpF,uBAAqB,K,iBAC/D,eAAuD,UAA1C,IAAC,eAAG,EAAAoF,MAAK,GAAIuG,qBAAmB,IAC7C,eAEO,QAFDlO,MAAM,WAAY,YAAS,8BAAE,EAAA2P,iBAAA,EAAAA,gBAAA,sB,CACjC,eAAqD,GAAjCxP,KAAM,CAAC,MAAO,OAAQH,MAAM,M,+BAItD,eAIM,MAJN,GAIM,CAHJ,eAEM,OAFDA,MAAM,WAAY,YAAS,8CAAO,EAAA4P,sBAAA,EAAAA,qBAAA,qBAAoB,Y,CACzD,eAAuE,GAAnDzP,KAAM,CAAC,MAAO,gBAAiBH,MAAM,e,QAI/D,eA0CU,UA1CV,GA0CU,CAzCoB,IAAZ,EAAAgI,MAAM3N,Q,mBACpB,eAsCW,8BAtCc,EAAA2N,MAAK,GAAI9B,OAAK,SAAtB/D,G,wBACf,eAoCM,O,IArCuCA,EAAKC,QAC7CpC,MAAM,kC,qBACT,eAmBW,2BAnBkB,EAAA6P,YAAU,SAAtBC,G,mDAA8BA,EAAS1N,S,CAE9C0N,EAAS1N,UAAYD,EAAKC,S,iBADlC,eAiBO,Q,MAfJpC,MAAK,gB,6CAAsF,EAAS,WAAU,kBAA4C,KAAK,MAAM,EAAS,aAAY,qB,GAAsD,KAAK,MAAM,EAAS,aAAY,uBAAmD,KAAK,MAAM,EAAS,aAAY,yB,eASlW8P,EAASC,WAAU,E,OAA8D,KAAK,MAAM,EAAS,aAAY,O,UAAqC,KAAK,MAAM,EAAS,aAAY,I,qDAQ5L,eAAwD,OAAxD,GAAwD,eAA7B5N,EAAKK,SAASF,OAAK,I,mBAC9C,eAMW,2BANa,EAAA0N,eAAa,SAApBvH,G,mDAA4BA,EAAIrG,S,CAGvCqG,EAAIrG,UAAYD,EAAKC,S,iBAF7B,eAIO,OAJP,GAIO,eADDqG,EAAIwH,WAAS,I,oCAIrB,eAKO,QALDjQ,MAAM,cAAe,YAAS,mCAAO,EAAAkQ,kBAAkB/N,EAAKC,WAAO,W,CACvE,eAGE,GAFCjC,KAAI,CAAGgC,EAAKwH,UAAS,wBACtB3J,MAAM,a,uFCtCNA,MAAM,mD,2QAjBpB,eAkFQ,GAjFNc,IAAI,SACHd,MAAK,gBAAc,YAAX,EAAAK,OAAOzC,KAAI,uCACpB+C,MAAA,yCACCwP,KAAM,EAAAA,KACNC,OAAQ,EAAAA,OACRvE,QAAS,iBACT,QAAO,EAAAwE,O,yBAER,iBAAmE,CAAnE,eAAmE,GAApDC,IAAK,EAAAA,IAAMC,YAAa,EAAAA,a,8BACZ,YAAX,EAAAlQ,OAAOzC,M,iBAAvB,eA6CW,gBAxCU,YAAX,EAAAyC,OAAOzC,M,iBAJf,eASY,G,MART4S,SAAU,cACX1P,IAAI,UACH,YAAW,EAAA6O,iB,yBAGZ,iBAES,CAFT,eAES,SAFT,GAES,CADP,eAA4D,GAAxCxP,KAAM,CAAC,MAAO,cAAeH,MAAM,W,+CAIV,IAAjC,EAAAiG,MAAMrD,SAASc,YAAYrJ,Q,iBACzC,eAKE,G,MAJCoW,WAAU,EAAAxK,MAAMrD,SAASc,YACzBgN,MAAO,UACPC,QAAS,IACV7P,IAAI,c,sDAKoB,IAAZ,EAAAkH,MAAM3N,Q,mBACpB,eAQW,8BAPM,EAAA2N,MAAK,GAAI9B,OAAK,SAAtB/D,G,wBADT,eAQW,GANR/C,IAAK+C,EAAKgE,OACVyK,UAAO,CAAGzO,EAAKiE,aAAaC,YAAalE,EAAKiE,aAAaE,c,yBAE5D,iBAES,CAFT,eAES,Q,wBADP,iBAA8E,CAA9E,eAA8E,GAA1DnG,KAAM,CAAC,MAAO,WAAYH,MAAM,8B,gEAKhB,IAA1B,EAAAwG,oBAAoBnM,Q,mBAClC,eAQW,8BAPK,EAAAmM,qBAAmB,SAA1ByB,G,wBADT,eAQW,GANR7I,IAAK6I,EAAIgI,UACTW,UAAO,CAAG3I,EAAI4I,YAAYxK,YAAa4B,EAAI4I,YAAYvK,c,yBAExD,iBAES,CAFT,eAES,Q,wBADP,iBAA2E,CAA3E,eAA2E,GAAvDnG,KAAM,CAAC,MAAO,OAAQH,MAAM,+B,4FAM7B,YAAX,EAAAK,OAAOzC,M,iBAAvB,eAwBW,gBAvBT,eAIW,GAJAgT,UAAS,EAAAR,QAAM,C,wBACxB,iBAES,CAFT,eAES,Q,wBADP,iBAAsF,CAAtF,eAAsF,GAAlEjQ,KAAM,CAAC,MAAO,kBAAmBH,MAAM,+B,8BAI7B,IAAlB,EAAA8Q,YAAYzW,Q,mBAC1B,eAcW,8BAbS,EAAAyW,aAAW,SAAtB/G,G,wBADT,eAcW,GAZR3K,IAAK2K,EAAQgH,WACbH,UAAO,CAAG7G,EAAQf,gBAAgB3C,YAAa0D,EAAQf,gBAAgB1C,c,yBAExE,iBAQS,CART,eAQS,Q,wBAPP,iBAME,CANF,eAME,GALCnG,KAAM,CAAC,MAAO,WACdH,MAAK,gB,YAAiD,mBAAmB,EAAQ,WAAU,gC,wLAmB3F,IACbpC,KAAM,MACN+D,WAAY,CACVqP,KAAA,QACAC,WAAA,QACAC,UAAA,QACAC,SAAA,QACAC,QAAA,QACAC,MAAA,SAEFC,MAAO,CACLvJ,UAAWwJ,OACXC,eAAgBC,QAElBrQ,MAda,SAcPkQ,EAdO,GAcU,IAARI,EAAQ,EAARA,KACb/R,QAAQyM,IAAI,OACZ,IAUIuF,EAVJ,EAAqC,kBAA7B/N,EAAR,EAAQA,MAAOiD,EAAf,EAAeA,QAAS2F,EAAxB,EAAwBA,SACxB,EAAyB,iBAAjBgC,EAAR,EAAQA,aAEFoD,EAAS,eAAI,MACbxB,EAAS,eAAI,CAAC,GAAI,MAClBD,EAAO,eAAI,IACX0B,EAAU,eAAI,MAGpB,EAAqCrD,EAAa1P,MAAMwP,OAAhD/J,EAAR,EAAQA,KAAMqG,EAAd,EAAcA,UAAWlD,EAAzB,EAAyBA,QAEnBoK,EAAa,WACe,YAA5BtD,EAAa1P,MAAMlB,MAErB4O,EAAS,UAAW,CAClBhP,KAAM,sBACN+G,OACAqG,YACAlD,YAGF8E,EAAS,UAAW,CAClBhP,KAAM,QACN+G,OACAqG,YACAlD,YAIF8E,EAAS,UAAW,CAClBhP,KAAM,OACNoN,YACArG,OACAmD,YAGFiK,EAAkBI,aAAY,WAC5BvF,EAAS,UAAW,CAClBhP,KAAM,sBACN+G,OACAqG,YACAlD,cAED,MACkC,YAA5B8G,EAAa1P,MAAMlB,MAE5ByM,GAAY,OAIVgG,EAAQ,WACZyB,KAKIE,EAAa,eAAI,MACjB/L,EAAQ,gBAAS,kBAAMrC,EAAMoC,cAAcC,SAG3C+B,EAAQ,gBAAS,kBAAMnB,EAAQiB,gBAAgBwJ,EAAMvJ,cAGrDvB,EAAsB,gBAAS,kBAAMK,EAAQuB,0BAA0BkJ,EAAMvJ,cAEnF,gBACE,kBAAM9B,EAAMnH,MAAM8D,SAASc,eAC3B,SAACnC,GACC,GAAsB,IAAlBA,EAAOlH,OAAc,CACvB,IAAI4X,EAAS1Q,EAAO,GAAG,GACnB2Q,EAAS3Q,EAAO,GAAG,GACnB4Q,EAAS,EACTC,EAAS,EACb7Q,EAAOgC,SAAQ,SAACqF,GACdqJ,EAASrJ,EAAK,GAAKqJ,EAASrJ,EAAK,GAAKqJ,EACtCC,EAAStJ,EAAK,GAAKsJ,EAAStJ,EAAK,GAAKsJ,EACtCC,EAASvJ,EAAK,GAAKuJ,EAASvJ,EAAK,GAAKuJ,EACtCC,EAASxJ,EAAK,GAAKwJ,EAASxJ,EAAK,GAAKwJ,KAExCR,EAAO9S,MAAMuT,cAAcC,YAAY,CACrC,CAACL,EAAQC,GACT,CAACC,EAAQC,SAMjB,IAAMzC,EAAkB,WACtB+B,EAAK,oBAIDZ,EAAc,gBAAS,kBAAMlN,EAAMgD,mBACnC5E,EAAW,gBAAS,kBAAM4B,EAAM5B,YActC,OAZA,eAAMA,GAAU,SAACT,GACf5B,QAAQyM,IAAI7K,GACZ,IAAQmF,EAAanF,EAAbmF,IAAKC,EAAQpF,EAARoF,IACbyJ,EAAOtR,MAAQ,CAAC4H,EAAKC,GACrBwJ,EAAKrR,MAAQ,GACb8S,EAAO9S,MAAMuT,cAAcE,MAAM,CAAC7L,EAAKC,GAAMwJ,EAAKrR,UAGpD,gBAAY,WACV0T,cAAcb,MAGT,CACLC,SACAvB,QACAD,SACAD,OACA0B,UACAG,aACA/L,QACA+B,QACAxB,sBACAmJ,kBACAmB,gBAGJjX,KAzIa,WA0IX,MAAO,CACLyW,IAAK,iEACLC,YACE,uJCrOR,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UFgEA,IACb3S,KAAM,UACN+D,WAAY,CACV8Q,QAEFrR,MALa,WAMX,MAA6C,kBAArCwC,EAAR,EAAQA,MAAOiD,EAAf,EAAeA,QAAS2F,EAAxB,EAAwBA,SAAUhC,EAAlC,EAAkCA,OAClC,EAAyB,iBAAjBgE,EAAR,EAAQA,aACFkB,EAAY,gBAAI,GAItB,EAAqClB,EAAa1P,MAAMwP,OAAhD/J,EAAR,EAAQA,KAAMqG,EAAd,EAAcA,UAAWlD,EAAzB,EAAyBA,QAEnBoK,EAAa,WACjBtF,EAAS,UAAW,CAClBhP,KAAM,QACNoN,YACArG,OACAmD,YAGF8E,EAAS,UAAW,CAClBhP,KAAM,OACNoN,YACArG,OACAmD,YAGF8E,EAAS,UAAW,CAClBhP,KAAM,mBACNoN,YACArG,OACAmD,YAGF8E,EAAS,UAAW,CAClBhP,KAAM,YACNoN,YACArG,OACAmD,aAGJoK,IAEA,IAAMY,EAAYX,aAAY,WAC5BD,MACC,KAEG/J,EAAY,eAAI,GAEhB6H,EAAuB,WAC3B7H,EAAUjJ,MAAQyS,QAAQxJ,EAAUjJ,QAEhC6I,EAAQ,gBAAS,kBAAMd,EAAQY,YAAYC,MAC3CM,EAAQ,gBAAS,kBAAMnB,EAAQiB,gBAAgBC,EAAUjJ,UACzDkR,EAAgB,gBAAS,kBAAMnJ,EAAQsB,uBAAuBJ,EAAUjJ,UACxE+Q,EAAa,gBAAS,kBAAMhJ,EAAQyB,mBAAmBP,EAAUjJ,UAEjE6Q,EAAkB,WACtBD,EAAU5Q,OAAS4Q,EAAU5Q,OAIzBoR,EAAoB,SAACyC,GACzB,IAAI7I,EAAiBzG,KAAKC,MAAMkG,aAAaC,QAAQ,oBAAsB,GACrEmJ,EAAe5K,EAAMlJ,MAAM,GAAGoH,MAAMyI,MAAK,SAACxM,GAAD,OAAUA,EAAKC,UAAYuQ,KAC1E,GAAIC,EAAajJ,UAAW,CAC1B,IAAMiF,EAAa9E,EAAe+E,WAAU,SAAC1M,GAAD,OAAUA,EAAKC,UAAYuQ,KACvE7I,EAAevO,OAAOqT,EAAY,QAElC9E,EAAa,0BAAQA,GAAR,CAAwB,CAAEnC,MAAOA,EAAM7I,MAAM,GAAIqD,KAAMyQ,KAEtEpJ,aAAasF,QAAQ,iBAAkBzL,KAAKiE,UAAUwC,IACtDU,EAAO,cAAe5G,EAAMoC,cAAcE,QAO5C,OAJA,gBAAY,WACVsM,cAAcE,MAGT,CACLhD,YACA3H,YACAJ,QACAiI,uBACA5H,QACAgI,gBACAH,aACAF,kBACAO,uB,UG1JN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAE1E,U,ICPJlQ,MAAM,8BAA8BW,MAAA,wC,UACtCX,MAAM,kB,IAMHA,MAAM,oB,oDAUDA,MAAM,mC,IACJA,MAAM,S,IACNA,MAAM,0B,oBAaVA,MAAM,uB,IAUFA,MAAM,oB,IACNA,MAAM,S,IACHA,MAAM,O,IAERA,MAAM,sB,+KA/CxB,eAAgC,GAA1B6S,mBAAkB,EAAAC,MAAI,6BAC5B,eAsDU,UAtDV,GAsDU,CArD4C,IAAlB,EAAAhC,YAAYzW,Q,iBAA9C,eAoDM,MApDN,GAoDM,E,mBAnDJ,eAkDM,2BAhDc,EAAAyW,aAAW,SAAtBiC,G,wBAFT,eAkDM,OAjDJ/S,MAAM,+BAELZ,IAAK2T,EAAQhC,Y,CAEd,eAmBK,KAnBL,GAmBK,CAlBH,eAiBS,UAhBN/Q,MAAK,yCAA6B,EAAA8S,OAASC,EAAQhC,WAAU,iBAC9DvT,KAAK,SACL+C,iBAAe,WACdyS,iBAAA,WAAoBD,EAAQhC,YAC7B/D,gBAAc,QACbtM,gBAAeqS,EAAQhC,WACvB,QAAK,mCAAU,EAAAkC,aAAaF,EAAQhC,cAAU,c,CAE/C,eAOM,MAPN,GAOM,CANJ,eAAwD,MAAxD,GAAwD,eAAlCgC,EAAQG,YAAY5Q,OAAK,GAC/C,eAIM,MAJN,GAIM,E,mBAHJ,eAES,2BAFwByQ,EAAQ7M,OAAK,SAArB/D,G,wBAAzB,eAES,QAFHnC,MAAM,MAAqCZ,IAAK+C,EAAK4D,U,eACzD5D,EAAKE,UAAUC,OAAK,M,oBAM9B,eAwBM,OAvBHzB,GAAIkS,EAAQhC,WACZ/Q,MAAK,8CAAkC,EAAA8S,OAASC,EAAQhC,WAAU,YACnEhQ,kBAAgB,c,CAE0C,IAAnB,EAAAoS,aAAa9Y,Q,iBAApD,eAkBM,MAlBN,GAkBM,E,mBAjBJ,eAgBc,2BAVG,EAAA8Y,cAAY,SAApBhR,G,wBANT,eAgBc,GAfXhB,GAAE,C,4BAA+D,OAAI,UAAa,EAAK,UAAU,MAAK,QAAW,EAAK,WAIvHnB,MAAM,uDAELZ,IAAK+C,EAAK4D,U,yBAEX,iBAA8D,CAA9D,eAA8D,MAA9D,GAA8D,eAA7B5D,EAAKE,UAAUC,OAAK,GACrD,eAEM,MAFN,GAEM,CADJ,eAA0D,OAA1D,GAAkB,IAAC,eAAGH,EAAKI,uBAAqB,KAElD,eAEO,OAFP,GAEO,CADL,eAA8D,GAA1CpC,KAAM,CAAC,MAAO,YAAaH,MAAM,e,uGAetD,QACbpC,KAAM,UACN+D,WAAY,CACV8Q,QAEFrR,MALa,WAMX,MAA4B,kBAApBwC,EAAR,EAAQA,MAAO4I,EAAf,EAAeA,SACTsG,EAAO,eAAI,MACXhC,EAAc,gBAAS,kBAAMlN,EAAMgD,mBAGnCuM,EAAe,eAAI,IACnB5O,EAAO,gBAAS,kBAAMX,EAAM5B,SAASuC,QACrC0O,EAAe,SAACpS,GACpBiS,EAAKhU,MAAQ+B,GAsBf,OApBA,eAAMiS,GAAM,SAACM,EAAOC,GAClB,GAAID,GAASA,IAAUC,EAAO,CAC5BF,EAAarU,MAAQ,GACrB,IAAMiL,EAAU+G,EAAYhS,MAAM6P,MAAK,SAAC/F,GAAD,OAAUA,EAAKmI,aAAeqC,KACrErJ,EAAQ7D,MAAM3C,QAAd,0DAAsB,WAAOqF,GAAP,gGACdzG,EAAOyG,EADO,SAEgB4D,EAAS,qBAAsB,CACjEhP,KAAM,QACN+G,KAAMA,EAAKzF,MACXuD,UAAWF,EAAKE,UAAUC,MAC1ByD,SAAU5D,EAAK4D,WANG,OAEd4G,EAFc,OAQpBwG,EAAarU,MAAb,0BACKqU,EAAarU,OADlB,oCAEOqD,GAFP,IAEaI,sBAAuBoK,EAAsB,GAAGpK,0BAVzC,2CAAtB,2DAgBG,CACLuQ,OACAvO,OACAuM,cACAmC,eACAE,kBCpGN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U,ICNRnT,MAAM,a,IACJA,MAAM,kB,IACJA,MAAM,yB,kBAIN,O,IAGAA,MAAM,gB,kBAIN,Q,qHAbT,eAkBM,MAlBN,GAkBM,CAjBJ,eAeM,MAfN,GAeM,CAdJ,eAMM,MANN,GAMM,CALJ,eAIC,GAHCmB,GAAG,mBACFnB,MAAK,gCAA+B,mBAAX,EAAAK,OAAOzC,KAAI,4B,yBACpC,iBAAG,C,2BAGR,eAMM,MANN,GAMM,CALJ,eAIC,GAHCuD,GAAG,iBACFnB,MAAK,gCAA+B,iBAAX,EAAAK,OAAOzC,KAAI,4B,yBACpC,iBAAI,C,6BAIX,eAAwC,GAA3BoC,MAAM,WAMR,QACbpC,KAAM,UACNwD,MAFa,WAGX,MAAmB,kBAAXoJ,EAAR,EAAQA,OACRA,EAAO,eAAgBnH,KAAKC,MAAMkG,aAAaC,QAAQ,kBAAoB,M,UCrB/E,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAE1E,U,yBCCNzJ,MAAM,uB,IACLA,MAAM,O,IACLA,MAAM,sB,IAERA,MAAM,uB,IACLA,MAAM,O,UAGLA,MAAM,qB,UAQRA,MAAM,4B,sEAzBb,eAiCM,2BA5Bc,EAAAsT,UAAQ,SAAnBvJ,G,wBALT,eAiCM,OAhCH/J,MAAK,gB,wFAAyG,oBAAoB,EAAQ,KAAK,QAAO,iBAKtJZ,IAAK2K,EAAQ5H,KAAKC,QAClB,cAAW,mCAAU,EAAA0L,cAAcC,EAAQhE,EAAQ5H,KAAKC,WAAO,c,CAEhE,eAGM,MAHN,GAGM,CAFJ,eAAwD,KAAxD,GAAwD,eAArC2H,EAAQpC,MAAMtF,UAAUC,OAAK,GAChD,eAAgF,MAAhF,GAAgC,IAAC,eAAGyH,EAAQpC,MAAMpF,uBAAqB,KAEzE,eAEM,MAFN,GAEM,CADJ,eAAsD,KAAtD,GAAsD,eAAnCwH,EAAQ5H,KAAKK,SAASF,OAAK,M,mBAEhD,eAQW,2BARkB,EAAAiR,cAAY,SAAxBzD,G,mDAAgCA,EAAS1N,S,CACnB2H,EAAQ5H,KAAKC,UAAY0N,EAAS1N,S,iBAAvE,eAMM,MANN,GAMM,eAJF0N,EAASpN,aAAT,UAAuC,KAAK,KAAK,EAAS,aAAY,IAAtE,K,qDAMsC,EAAA0L,kBAAoBrE,EAAQ5H,KAAKC,S,iBAA7E,eAOM,MAPN,GAOM,CANJ,eAKS,UAJPpC,MAAM,uCACL,YAAS,mCAAU,EAAAqO,cAActE,EAAQ5H,KAAKC,WAAO,cACvD,OAED,U,sCAQS,QACbxE,KAAM,iBACNwD,MAFa,WAGX,MAA2B,kBAAnBwC,EAAR,EAAQA,MAAOiD,EAAf,EAAeA,QACTyM,EAAW,eAAIjQ,KAAKC,MAAMkG,aAAaC,QAAQ,oBAAsB,IACrE8J,EAAe,eAAI,IAEzB,eACED,GACA,SAAC/R,EAAQC,GACP,GAAsB,IAAlBD,EAAOlH,QAAgBkH,IAAWC,EAAQ,CAC5C,IAAuBmJ,EAAc/G,EAAMC,IAAnCG,cACRzC,EAAOgC,QAAP,0DAAe,WAAOqF,GAAP,yGACKiC,MAAM,GAAD,OAClBF,GADkB,OACN/B,EAAKjB,MAAMsG,KADL,YACarF,EAAKjB,MAAMtF,UAAUC,MADlC,iCACgEsG,EAAKjB,MAAM5B,SAD3E,oCAC+G6C,EAAKzG,KAAKC,QADzH,gDAErByE,EAAQC,SAHG,cACPgE,EADO,gBAKMA,EAAIE,OALV,OAKPnR,EALO,OAMb0Z,EAAazU,MAAb,0BAAyByU,EAAazU,OAAtC,gBAAgDjF,IANnC,2CAAf,0DAUJ,CAAE2Z,WAAW,IAIf,IAAMpF,EAAkB,eAAI,MAExBG,EAAiB,EACfT,EAAgB,SAAC9R,EAAGyX,GACnBlF,EAIDA,EAAiBvS,EAAEyS,QAAU,GAC/BL,EAAgBtP,MAAQ2U,EACxBlF,EAAiB,GACRA,EAAiBvS,EAAEyS,QAAU,IACtCL,EAAgBtP,MAAQ,GACxByP,EAAiB,GARjBA,EAAiBvS,EAAEyS,SAYjBJ,EAAgB,SAACxN,GACrB,IAAMiJ,EAAiBzG,KAAKC,MAAMkG,aAAaC,QAAQ,oBAAsB,GACvEmF,EAAa9E,EAAe+E,WAAU,SAAC9E,GAAD,OAAaA,EAAQ5H,KAAKC,UAAYvB,KAClFiJ,EAAevO,OAAOqT,EAAY,GAClCpF,aAAasF,QAAQ,iBAAkBzL,KAAKiE,UAAUwC,IACtDwJ,EAASxU,MAAQuE,KAAKC,MAAMkG,aAAaC,QAAQ,oBAGnD,MAAO,CACL6J,WACAC,eACAnF,kBACAN,gBACAO,mB,UCzFN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAE1E,U,kFCRb,eAAY,GAKC,QACbzQ,KAAM,MACN+D,WAAY,CACVoN,cCJJ,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UCETjJ,GAAS,CACb,CACExF,KAAM,IACN1C,KAAM,OACN8V,UAAWC,IAEb,CACErT,KAAM,OACN1C,KAAM,MACN8V,UAAWE,IAEb,CACEtT,KAAM,iCACN1C,KAAM,UACN8V,UAAWG,IAEb,CACEvT,KAAM,WACN1C,KAAM,UACN8V,UAAWI,IAEb,CACExT,KAAM,WACN1C,KAAM,UACN8V,UAAWK,GACXC,SAAU,CACR,CACE1T,KAAM,UACN1C,KAAM,iBACN8V,UAAWO,IAEb,CACE3T,KAAM,QACN1C,KAAM,eACN8V,UAAWQ,OAMbrS,GAASsS,eAAa,CAC1BC,QAASC,iBACTvO,YAGajE,MCtBfyS,OAAQC,IACNC,OACAC,OACAC,OACAC,OACAC,OACAC,OACAC,OACAC,OACAC,OACAC,OACAC,OACAC,OACAC,QAGFC,eAAUC,GACPC,IAAIC,GACJD,IAAIhJ,IACJgJ,IAAI1T,IACJ6R,UAAU,oBAAqB+B,QAC/BC,MAAM,S,oCCrDT,W,2DCAA,W,uBCAA5Z,EAAOD,QAAU,IAA0B,yB,8HCA3C","file":"js/app.3b166333.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0c9189\":\"c81458cc\",\"chunk-2d0cf391\":\"020c75ea\",\"chunk-2d0da8f3\":\"c8c3e7e8\",\"chunk-2d2248b6\":\"d84473c1\",\"chunk-2d22523a\":\"4b710d99\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/DynamicBusRoute/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=1f660082&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Bus.vue?vue&type=style&index=0&id=0dc85124&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Arrival.vue?vue&type=style&index=0&id=4066d4e1&lang=scss&scoped=true\"","<template>\n  <header class=\"position-fixed top-0 bg-white w-100 p-4 pb-3 shadow\">\n    <img src=\"@/assets/logo.svg\" alt=\"\" srcset=\"\" />\n    <section class=\"small mt-2 text-success d-flex align-items-center\">\n      <font-awesome-icon\n        :icon=\"['fas', 'reply']\"\n        class=\"fs-4\"\n        @pointerup.prevent.stop=\"backToLast\"\n        v-show=\"$route.path !== '/'\"\n      />\n      <span class=\"mx-auto\">全台公車時刻資訊整合網</span>\n      <font-awesome-icon\n        :icon=\"['fas', 'bars']\"\n        class=\"fs-4\"\n        v-show=\"$route.path !== '/'\"\n        data-bs-toggle=\"offcanvas\"\n        href=\"#menu\"\n        role=\"button\"\n        aria-controls=\"offcanvasExample\"\n      />\n    </section>\n  </header>\n  <Menu />\n  <router-view style=\"padding-top: 120px\" />\n  <footer class=\"position-fixed bottom-0 w-100 bg-white text-success shadow py-3\">\n    Designed By Len Cheng && Celeste\n  </footer>\n</template>\n<script>\nimport { useRouter } from 'vue-router';\nimport Menu from '@/components/Menu.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    Menu,\n  },\n  setup() {\n    const router = useRouter();\n    const backToLast = () => {\n      router.go(-1);\n    };\n\n    return {\n      backToLast,\n    };\n  },\n};\n</script>\n<style lang=\"scss\">\n#app {\n  background: linear-gradient(to bottom, #faf0df, #ededcc);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  vertical-align: middle;\n  overflow: hidden;\n  min-height: 100vh;\n}\nheader {\n  z-index: 1001;\n  border-bottom-left-radius: 0.5rem;\n  border-bottom-right-radius: 0.5rem;\n}\n\nfooter {\n  z-index: 1001;\n  border-top-left-radius: 0.5rem;\n  border-top-right-radius: 0.5rem;\n}\n</style>\n","<template>\n  <aside\n    class=\"offcanvas offcanvas-end\"\n    tabindex=\"-1\"\n    id=\"menu\"\n    ref=\"menu\"\n    aria-labelledby=\"offcanvasExampleLabel\"\n  >\n    <div class=\"offcanvas-header\">\n      <button\n        type=\"button\"\n        class=\"btn-close bg-primary ms-auto\"\n        data-bs-dismiss=\"offcanvas\"\n        aria-label=\"Close\"\n      ></button>\n    </div>\n    <div\n      class=\"offcanvas-body d-flex flex-column align-items-center d-grid gap-5\"\n      @pointerup=\"closeMenu\"\n    >\n      <router-link to=\"/\" class=\"btn\">\n        <img src=\"@/assets/logo.svg\" alt=\"\" srcset=\"\" />\n        <p class=\"fs-xs my-2\">全台公車時刻資訊整合網</p>\n      </router-link>\n      <router-link to=\"/bus\" class=\"btn\">\n        <div class=\"h5\">公車查詢</div>\n        <small class=\"text-success\">查詢指定公車路線及其停靠站</small>\n      </router-link>\n      <router-link to=\"/NearBus\" class=\"btn\">\n        <div class=\"h5\">附近公車</div>\n        <small class=\"text-success\">查詢附近公車站及其路線</small>\n      </router-link>\n      <router-link to=\"/collect/station\" class=\"btn\">\n        <div class=\"h5\">我的收藏</div>\n        <small class=\"text-success\">收藏的公車站及路線</small>\n      </router-link>\n\n      <footer class=\"position-fixed bottom-0 py-3\">Designed By Len Cheng && Celeste</footer>\n    </div>\n  </aside>\n</template>\n<script>\nimport { ref, watch } from 'vue';\nimport * as bootstrap from 'bootstrap';\n\nexport default {\n  name: 'Menu',\n  setup() {\n    const menu = ref(null);\n    let bsOffcanvas = '';\n\n    watch(menu, (newVal, oldVal) => {\n      if (newVal && newVal !== oldVal) {\n        bsOffcanvas = new bootstrap.Offcanvas(newVal);\n      }\n    });\n    const closeMenu = () => {\n      bsOffcanvas.hide();\n    };\n    return {\n      menu,\n      closeMenu,\n    };\n  },\n};\n</script>\n","import { render } from \"./Menu.vue?vue&type=template&id=5e99ac4b\"\nimport script from \"./Menu.vue?vue&type=script&lang=js\"\nexport * from \"./Menu.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\kuojo\\\\Desktop\\\\新增資料夾\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=1f660082\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=1f660082&lang=scss\"\n\nimport exportComponent from \"D:\\\\kuojo\\\\Desktop\\\\新增資料夾\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <article class=\"home container\">\n    <div class=\"d-grid gap-3 my-4\">\n      <router-link to=\"/bus\" class=\"btn py-3 bg-white rounded-3 shadow\">\n        <div class=\"h5\">公車查詢</div>\n        <small class=\"text-success\">查詢指定公車路線及其停靠站</small>\n      </router-link>\n      <router-link to=\"/NearBus\" class=\"btn py-3 bg-white rounded-3 shadow\">\n        <div class=\"h5\">附近公車</div>\n        <small class=\"text-success\">查詢附近公車站及其路線</small>\n      </router-link>\n      <router-link to=\"/collect/station\" class=\"btn py-3 bg-white rounded-3 shadow\">\n        <div class=\"h5\">我的收藏</div>\n        <small class=\"text-success\">收藏的公車站及路線</small>\n      </router-link>\n    </div>\n    <div style=\"padding-bottom: 80px\">\n      <div\n        class=\"d-flex flex-column justify-content-center align-items-center\"\n        style=\"height: 25vh\"\n        v-if=\"!location\"\n      >\n        <div class=\"small mb-1\">開啟定位服務，以獲得更多資訊</div>\n        <button\n          class=\"btn btn-lg px-3 w-75 bg-white rounded-3 shadow\"\n          @pointerup.prevent.stop=\"openGeolocation\"\n        >\n          開啟定位服務\n        </button>\n      </div>\n      <div class=\"bg-white p-3 rounded-3 shadow\" v-if=\"location\">\n        <div class=\"text-start\">附近公車</div>\n        <table\n          class=\"table table-borderless align-middle my-2\"\n          v-if=\"homeNearLocationBus.length !== 0\"\n        >\n          <tbody>\n            <tr v-for=\"stop of homeNearLocationBus\" :key=\"stop.StopUID\">\n              <td class=\"text-start\">\n                <h5 class=\"fw-bold\">{{ stop.RouteName.Zh_tw }}</h5>\n                <div class=\"text-success fs-xs\">往{{ stop.DestinationStopNameZh }}</div>\n              </td>\n              <td class=\"text-start\">\n                <h5 class=\"fw-bold\">{{ stop.StopName.Zh_tw }}</h5>\n                <div class=\"text-success fs-xs\">{{ stop.distance }}公尺</div>\n              </td>\n              <td class=\"text-end\">\n                {{ stop.EstimateTime }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <p v-else>1 公里內查無公車</p>\n        <router-link to=\"/NearBus\" class=\"btn text-success\">查詢其他公車路線</router-link>\n      </div>\n    </div>\n  </article>\n</template>\n\n<script>\nimport { computed, ref, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport getLocation from '@/hook/getLocation';\n// @ is an alias to /src\n\nexport default {\n  name: 'Home',\n  components: {},\n  setup() {\n    const { state, getters, dispatch } = useStore();\n    const location = ref(false);\n    // 取得state中的附近公車資料\n    const NearLocationBus = computed(() => getters.filterNearLocationBus.slice(0, 4));\n    const homeNearLocationBus = ref([]);\n\n    const city = computed(() => state.location.city);\n\n    const openGeolocation = () => {\n      location.value = true;\n      getLocation(1000);\n    };\n\n    watch(NearLocationBus, (newVal, oldVal) => {\n      if (newVal.length !== 0 && newVal !== oldVal) {\n        newVal.forEach((item) => {\n          const stop = item;\n          const busDestinationStopRes = dispatch('getDestinationStop', {\n            type: 'route',\n            city: city.value,\n            RouteName: stop.RouteName.Zh_tw,\n            RouteUID: stop.RouteUID,\n          });\n          const busEstimatedRes = dispatch('getDestinationStop', {\n            type: 'estimated',\n            city: city.value,\n            RouteName: stop.RouteName.Zh_tw,\n            RouteUID: stop.RouteUID,\n            StopUID: stop.StopUID,\n          });\n\n          Promise.all([busDestinationStopRes, busEstimatedRes]).then((res) => {\n            const [destination, estimated] = res;\n            console.log(destination, estimated);\n            homeNearLocationBus.value = [\n              ...homeNearLocationBus.value,\n              {\n                ...stop,\n                DestinationStopNameZh: destination[0].DestinationStopNameZh,\n                EstimateTime: estimated[0] ?\n                  `${Math.ceil(estimated[0].EstimateTime / 60)}分` :\n                  '未提供',\n              },\n            ];\n          });\n        });\n      }\n    });\n\n    return {\n      location,\n      openGeolocation,\n      NearLocationBus,\n      homeNearLocationBus,\n    };\n  },\n};\n</script>\n","export default function convertToGeoJson(Geometry) {\n  const reg1 = /\\(/gi;\n  const reg2 = /\\)/gi;\n  const index = Geometry.indexOf('(');\n  let newGeometry = Geometry.substring(index);\n  newGeometry = newGeometry.replace(reg1, '[[');\n  newGeometry = newGeometry.replace(reg2, ']]');\n  newGeometry = newGeometry.replaceAll(/(,)\\s|(,)/g, '],[');\n  newGeometry = newGeometry.replaceAll(' ', ',');\n  newGeometry = JSON.parse(newGeometry);\n  newGeometry.forEach((arr) => {\n    arr.reverse();\n  });\n  return {\n    type: 'LineString',\n    coordinates: newGeometry,\n  };\n}\n","import { createStore } from 'vuex';\nimport hmacSHA1 from 'crypto-js/hmac-sha1';\nimport Base64 from 'crypto-js/enc-base64';\nimport { getDistance } from 'computeddistance';\nimport convertToGeoJson from '@/hook/convertToGeoJson';\n\n// 會用到的 API\n// 公車線型 GET /v2/Bus/Shape/City/{City}/{RouteName}\n// 公車路線起終站 GET /v2/Bus/Route/City/{City}\n// 公車預估到站 GET /v2/Bus/EstimatedTimeOfArrival/City/{City}/{RouteName}\n// 公車動態定時資料(車牌+目前位置) GET /v2/Bus/RealTimeByFrequency/City/{City}/{RouteName}\n// 公車動態定點資料(車牌+目前所在站牌位置) GET /v2/Bus/RealTimeNearStop/City/{City}/{RouteName}\n// 公車站牌 GET /v2/Bus/StopOfRoute/City/{City}/{RouteName}\n// 公車站位 GET /v2/Bus/Station/City/{City}\nexport default createStore({\n  state: {\n    api: {\n      Shape_url: 'https://ptx.transportdata.tw/MOTC/v2/Bus/Shape/City/',\n      Route_url: 'https://ptx.transportdata.tw/MOTC/v2/Bus/Route/City/',\n      Estimated_url: 'https://ptx.transportdata.tw/MOTC/v2/Bus/EstimatedTimeOfArrival/City/',\n      RealTimeByFrequency_url: 'https://ptx.transportdata.tw/MOTC/v2/Bus/RealTimeByFrequency/City/',\n      RealTimeNearStop_url: 'https://ptx.transportdata.tw/MOTC/v2/Bus/RealTimeNearStop/City/',\n      StopOfRoute_url: 'https://ptx.transportdata.tw/MOTC/v2/Bus/StopOfRoute/City/',\n      Station_url: 'https://ptx.transportdata.tw/MOTC/v2/Bus/Station/City/',\n      nominatim_url: 'https://nominatim.openstreetmap.org/reverse?format=json&',\n      id: process.env.VUE_APP_PTX_ID,\n      key: process.env.VUE_APP_PTX_KEY,\n    },\n    city: {\n      Taipei: '臺北市',\n      NewTaipei: '新北市',\n      Taoyuan: '桃園市',\n      Taichung: '臺中市',\n      Tainan: '臺南市',\n      Kaohsiung: '高雄市',\n      Keelung: '基隆市',\n      Hsinchu: '新竹市',\n      HsinchuCounty: '新竹縣',\n      MiaoliCounty: '苗栗縣',\n      ChanghuaCounty: '彰化縣',\n      NantouCounty: '南投縣',\n      YunlinCounty: '雲林縣',\n      ChiayiCounty: '嘉義縣',\n      Chiayi: '嘉義市',\n      PingtungCounty: '屏東縣',\n      YilanCounty: '宜蘭縣',\n      HualienCounty: '花蓮縣',\n      TaitungCounty: '臺東縣',\n      KinmenCounty: '金門縣',\n      PenghuCounty: '澎湖縣',\n      LienchiangCounty: '連江縣',\n    },\n    // 縣市裡所有公車路線\n    routes: [{\n      RouteUID: '',\n      RouteName: {\n        Zh_tw: '',\n      },\n    }],\n\n    // 特定路線動態資料\n    selectedRoute: {\n      // 特定路線圖\n      shape: {\n        Geometry: {\n          type: '',\n          coordinates: [],\n        },\n      },\n      // 特定路線站牌資料\n      Stops: [{\n        StopID: '',\n        StopPosition: {\n          PositionLat: '',\n          PositionLon: '',\n        },\n      }],\n      // 特定路線預估到站\n      Estimated: [],\n      // 特定路線定時資料(車牌目前位置)\n      RealTimeByFrequency: [],\n      // 特定路線定點資料(確定車牌要到哪一站)\n      RealTimeNearStop: [],\n    },\n    // 目前位置\n    location: {\n      lat: '',\n      lon: '',\n      city: '',\n    },\n    // 附近公車\n    NearLocationBus: [],\n  },\n  getters: {\n    headers: (state) => {\n      const { key, id } = state.api;\n      const GMTDate = new Date().toUTCString();\n      const HAMC = hmacSHA1(`x-date: ${GMTDate}`, key);\n      const toBase = Base64.stringify(HAMC);\n      return {\n        methods: 'GET',\n        headers: {\n          Authorization: `hmac username=\"${id}\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"${toBase}\"`,\n          'x-date': GMTDate,\n        },\n      };\n    },\n    filterRoute: (state) => (routeId) => {\n      const route = state.routes.filter((rou) => rou.RouteUID === routeId);\n      return route;\n    },\n    filterStopRoute: (state) => (direction) => {\n      if (state.selectedRoute.Stops.length !== 0) {\n        const stops = state.selectedRoute.Stops.filter((bus) => bus.Direction === direction);\n        return stops;\n      }\n      return [];\n    },\n    filterRealTimeNearStop: (state) => (direction) => {\n      const { RealTimeNearStop } = state.selectedRoute;\n      if (RealTimeNearStop.length !== 0) {\n        const stop = RealTimeNearStop.filter((bus) => bus.Direction === direction);\n        return stop;\n      }\n      return [];\n    },\n    filterRealTimeByFrequency: (state) => (direction) => {\n      const { RealTimeByFrequency } = state.selectedRoute;\n      if (RealTimeByFrequency.length !== 0) {\n        const Buses = RealTimeByFrequency.filter((bus) => bus.Direction === direction);\n        return Buses;\n      }\n      return [];\n    },\n    filterEstimatedBus: (state) => (direction) => {\n      if (state.selectedRoute.Estimated.length !== 0) {\n        const diffBus = state.selectedRoute.Estimated.reduce((acc, cur) => {\n          if (!acc.some((item) => item.StopUID === cur.StopUID &&\n          item.Direction === cur.Direction)) {\n            return [...acc, cur];\n          }\n          return acc;\n        }, []);\n        const stop = diffBus.filter((bus) => bus.Direction === direction);\n        return stop;\n      }\n      return [];\n    },\n    filterNearLocationBus: (state) => {\n      const { lat, lon } = state.location;\n      const stopData = state.NearLocationBus.reduce((acc, cur) => {\n        let nearStop = acc;\n        cur.Stops.forEach((item) => {\n          if (acc.some((stop) => stop.StopUID === item.StopUID)) {\n            return;\n          }\n          // getDistance(lon1,lat1,lon2,lat2)\n          const { PositionLon, PositionLat } = cur.StationPosition;\n          const distance = Math.ceil(getDistance(lon, lat, PositionLon, PositionLat) * 1000);\n          nearStop = [...acc, { ...item, distance }];\n        });\n        return nearStop;\n      }, []);\n      return stopData;\n    },\n  },\n  mutations: {\n    getRouteData(state, payload) {\n      const collectRoute = JSON.parse(localStorage.getItem('collectRoute')) || [];\n      payload.forEach((route) => {\n        const routeData = route;\n        if (collectRoute.some((item) => item.RouteUID === route.RouteUID)) {\n          routeData.isCollect = true;\n        } else {\n          routeData.isCollect = false;\n        }\n      });\n      state.routes = payload;\n    },\n    getShapeData(state, payload) {\n      const shape = payload;\n      shape.Geometry = convertToGeoJson(shape.Geometry);\n      state.selectedRoute.shape = shape;\n    },\n    getStopData(state, payload) {\n      payload.forEach((item) => {\n        item.Stops.forEach((stop) => {\n          const stopData = stop;\n          const collectStation = JSON.parse(localStorage.getItem('collectStation')) || [];\n          if (collectStation.some((station) => station.stop.StopUID === stop.StopUID)) {\n            stopData.isCollect = true;\n          } else {\n            stopData.isCollect = false;\n          }\n        });\n      });\n      state.selectedRoute.Stops = payload;\n    },\n    getRealTimeByFrequencyData(state, payload) {\n      state.selectedRoute.RealTimeByFrequency = payload;\n    },\n    getRealTimeNearStopData(state, payload) {\n      state.selectedRoute.RealTimeNearStop = payload;\n    },\n    getEstimatedData(state, payload) {\n      state.selectedRoute.Estimated = payload;\n    },\n    clearDataNearLocation(state) {\n      state.NearLocationBus = [];\n    },\n    getDataNearLocation(state, payload) {\n      state.NearLocationBus = payload;\n    },\n    getLocation(state, payload) {\n      state.location = payload;\n    },\n  },\n  actions: {\n    // payload = {type, routeName, city}\n    async getData({ state, getters, commit }, payload) {\n      const {\n        Shape_url: shape,\n        Route_url: route,\n        StopOfRoute_url: stop,\n        RealTimeNearStop_url: realTimeNearStop,\n        RealTimeByFrequency_url: realTimeByFrequency,\n        Estimated_url: estimated,\n      } = state.api;\n      const { type, routeName, city, routeId } = payload;\n\n      let res;\n      let data;\n\n      switch (type) {\n        case 'route':\n          res = await fetch(`${route}${city}/${routeName}?$format=JSON`, getters.headers);\n          if (res.ok) {\n            data = await res.json();\n            commit('getRouteData', data);\n          }\n          break;\n\n        case 'estimated':\n          res = await fetch(`${estimated}${city}/${routeName}?$filter=RouteUID eq '${routeId}'&$orderBy=StopSequence&$format=JSON`, getters.headers);\n          if (res.ok) {\n            data = await res.json();\n            commit('getEstimatedData', data);\n          }\n          break;\n\n        case 'shape':\n          res = await fetch(`${shape}${city}/${routeName}?$filter=RouteUID eq '${routeId}'&$format=JSON`, getters.headers);\n          if (res.ok) {\n            data = await res.json();\n            commit('getShapeData', data[0]);\n          }\n          break;\n\n        case 'stop':\n          res = await fetch(`${stop}${city}/${routeName}?$filter=RouteUID eq '${routeId}'&$format=JSON`, getters.headers);\n          if (res.ok) {\n            data = await res.json();\n            commit('getStopData', data);\n          }\n          break;\n\n        case 'realTimeNearStop':\n          res = await fetch(`${realTimeNearStop}${city}/${routeName}?$filter=RouteUID eq '${routeId}'&$format=JSON`, getters.headers);\n          if (res.ok) {\n            data = await res.json();\n            commit('getRealTimeNearStopData', data);\n          }\n          break;\n\n        case 'realTimeByFrequency':\n          res = await fetch(`${realTimeByFrequency}${city}/${routeName}?$filter=RouteUID eq '${routeId}'&$top=10&$format=JSON`, getters.headers);\n          if (res.ok) {\n            data = await res.json();\n            commit('getRealTimeByFrequencyData', data);\n          }\n          break;\n\n        default:\n          break;\n      }\n    },\n    async getDataNearLocation({ state, getters, commit }, payload) {\n      // 清空附近公車站資料\n      commit('clearDataNearLocation');\n\n      const { lat, lon, DistanceInMeters } = payload;\n      // nominatim 找出縣市\n      const {\n        nominatim_url: nominatiml,\n        Station_url: station,\n      } = state.api;\n      const locationRes = await fetch(`${nominatiml}lat=${lat}&lon=${lon}&accept-language=en`);\n      const locationData = await locationRes.json();\n      const city = locationData.address.county.replace(' ', '') || locationData.address.city.replace(' ', '');\n      commit('getLocation', { lat, lon, city });\n      // 透過縣市找出公車站\n      if (!city.includes('Keelung') && !city.includes('Lienchiang')) {\n        const res = await fetch(`${station}${city}?$spatialFilter=nearby(${lat}, ${lon}, ${DistanceInMeters})&$format=JSON`, getters.headers);\n        const data = await res.json();\n        if (res.ok && data.length !== 0) {\n          const newData = data.reduce((acc, cur) => {\n            if (!acc.some((item) => item.StationGroupID === cur.StationGroupID)) {\n              return [...acc, cur];\n            }\n            return acc;\n          }, []);\n          commit('getDataNearLocation', newData);\n        }\n      }\n    },\n    async getDestinationStop({ state, getters }, payload) {\n      const { Route_url: route, Estimated_url: estimated } = state.api;\n      const { city, RouteName, RouteUID, type, StopUID } = payload;\n      let res;\n      switch (type) {\n        case 'route':\n          res = await fetch(`${route}${city}/${RouteName}?$select=DestinationStopNameZh &$filter=RouteUID eq '${RouteUID}'&$format=JSON`, getters.headers);\n          break;\n        case 'estimated':\n          res = await fetch(`${estimated}${city}/${RouteName}?$filter=RouteUID eq '${RouteUID}' and StopUID eq '${StopUID}' and StopStatus eq '正常'&$top=1&$format=JSON`, getters.headers);\n          break;\n        default:\n          break;\n      }\n\n      if (res.ok) {\n        const data = await res.json();\n        return data;\n      }\n      return [];\n    },\n  },\n  modules: {\n  },\n});\n","import store from '@/store/index';\n\nexport default function getLocation(DistanceInMeters) {\n  if (navigator.geolocation) {\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0,\n    };\n\n    const success = (pos) => {\n      const crd = pos.coords;\n      console.log(crd);\n      const { latitude: lat, longitude: lon } = crd;\n      store.dispatch('getDataNearLocation', { lat, lon, DistanceInMeters });\n    };\n\n    navigator.geolocation.getCurrentPosition(\n      success,\n      (err) => {\n        console.log(err);\n      },\n      options,\n    );\n  } else {\n    alert('你的裝置或瀏覽器不支援定位功能');\n  }\n}\n","import { render } from \"./Home.vue?vue&type=template&id=6ba19311\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\kuojo\\\\Desktop\\\\新增資料夾\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <article class=\"bus container\" style=\"padding-top: 120px\">\n    <div class=\"dropdown\" ref=\"dropdown\">\n      <button\n        class=\"btn bg-white btn-lg rounded-3 w-100\"\n        type=\"button\"\n        data-bs-toggle=\"dropdown\"\n        data-bs-auto-close=\"true\"\n        aria-expanded=\"false\"\n      >\n        {{ cityZh ? `${cityZh.substring(0, 2)}公車` : '選擇縣市' }}\n        <font-awesome-icon :icon=\"['fas', 'chevron-down']\" class=\"fs-6 ms-3\" />\n      </button>\n      <ul class=\"dropdown-menu rounded-3 shadow w-100 overflow-scroll\">\n        <li\n          class=\"p-3 btn-lg position-absolute dropdown-menu-icon\"\n          @pointerup.prevent.stop=\"closeDropMenu\"\n        >\n          <font-awesome-icon :icon=\"['fas', 'chevron-up']\" @pointerup.stop=\"closeDropMenu\" />\n        </li>\n        <li\n          class=\"text-center py-3 btn-lg\"\n          v-for=\"(city, key) in BusCity\"\n          :key=\"key\"\n          :data-city-en=\"key\"\n          :data-city-zh=\"city\"\n          @pointerup.prevent.stop=\"getCityName\"\n        >\n          {{ city.substring(0, 2) }}公車\n        </li>\n      </ul>\n    </div>\n\n    <!-- 公車路線 -->\n    <section class=\"mt-4\">\n      <div class=\"text-start\">查詢歷史</div>\n      <BusRoute />\n    </section>\n  </article>\n  <!-- 自製鍵盤 -->\n  <section\n    v-show=\"customKeyboard\"\n    class=\"position-fixed bottom-0 w-100 bg-white shadow fs-4\"\n    style=\"z-index: 1002\"\n  >\n    <div class=\"container d-flex flex-column align-items-center\">\n      <p class=\"mt-4\" v-if=\"keyboard\">{{ routeName }}</p>\n      <div class=\"d-flex justify-content-end alidn-items-center w-100 py-2\" v-else>\n        <input\n          type=\"text\"\n          ref=\"routeNameInput\"\n          v-model=\"routeName\"\n          style=\"text-align: center\"\n          class=\"form-control border-0 me-3 fs-3 lh-sm\"\n        />\n        <button\n          class=\"btn btn-lg btn-outline-primary fs-2\"\n          @pointerup.prevent.stop=\"changeKeyboard\"\n        >\n          <font-awesome-icon :icon=\"['fas', 'globe']\" />\n        </button>\n      </div>\n\n      <div class=\"row gx-1 gy-2 btns-option mb-3\" v-if=\"keyboard\" @pointerup.stop=\"getRouteName\">\n        <div class=\"col\">\n          <button class=\"btn btn-lg btn-outline-primary\">{{ options ? '紅' : '內科' }}</button>\n        </div>\n        <div class=\"col\">\n          <button class=\"btn btn-lg btn-outline-primary\">{{ options ? '藍' : '通勤' }}</button>\n        </div>\n        <div class=\"col\" v-for=\"n in 3\" :key=\"n\">\n          <button class=\"btn btn-lg btn-outline-primary\">{{ n }}</button>\n        </div>\n\n        <div class=\"col\">\n          <button class=\"btn btn-lg btn-outline-primary\">{{ options ? '綠' : '南軟' }}</button>\n        </div>\n        <div class=\"col\">\n          <button class=\"btn btn-lg btn-outline-primary\">{{ options ? '棕' : '小' }}</button>\n        </div>\n        <div class=\"col\" v-for=\"n in 3\" :key=\"n\">\n          <button class=\"btn btn-lg btn-outline-primary\">\n            {{ n + 3 }}\n          </button>\n        </div>\n\n        <div class=\"col\">\n          <button class=\"btn btn-lg btn-outline-primary\">{{ options ? '橘' : '市民' }}</button>\n        </div>\n        <div class=\"col\">\n          <button class=\"btn btn-lg btn-outline-primary\">{{ options ? '幹道' : 'F' }}</button>\n        </div>\n        <div class=\"col\" v-for=\"n in 3\" :key=\"n\">\n          <button class=\"btn btn-lg btn-outline-primary\">\n            {{ n + 6 }}\n          </button>\n        </div>\n        <div class=\"col\">\n          <button class=\"btn btn-lg btn-outline-primary\" @pointerup.stop=\"changeKeyboard\">\n            <font-awesome-icon :icon=\"['fas', 'globe']\" />\n          </button>\n        </div>\n        <div class=\"col\">\n          <button class=\"btn btn-lg btn-outline-primary\" @pointerup.stop=\"changeOptions\">\n            {{ options ? '更多' : '返回' }}\n          </button>\n        </div>\n        <div class=\"col\">\n          <button class=\"btn btn-lg btn-outline-primary\">0</button>\n        </div>\n        <div class=\"col\">\n          <button\n            class=\"btn btn-lg btn-outline-primary\"\n            data-clear=\"all\"\n            @pointerup.stop=\"deleteWord\"\n          >\n            重設\n          </button>\n        </div>\n        <div class=\"col\">\n          <button\n            class=\"btn btn-lg btn-outline-primary\"\n            data-clear=\"1\"\n            @pointerup.stop=\"deleteWord\"\n          >\n            <font-awesome-icon :icon=\"['fas', 'backspace']\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n<script>\nimport * as bootstrap from 'bootstrap';\nimport { useStore } from 'vuex';\nimport {\n  computed,\n  ref,\n  reactive,\n  nextTick,\n  toRefs,\n  watch,\n  onMounted,\n  //\n} from 'vue';\nimport BusRoute from '@/components/BusRoute.vue';\n\nexport default {\n  name: 'Bus',\n  components: {\n    BusRoute,\n  },\n  setup() {\n    const { state, dispatch } = useStore();\n\n    const BusCity = computed(() => state.city);\n    const dropdown = ref(null);\n\n    const closeDropMenu = () => {\n      new bootstrap.Dropdown(dropdown.value).hide();\n    };\n\n    const customKeyboard = ref(false);\n\n    const busSearch = reactive({\n      cityEn: '',\n      cityZh: '',\n      routeName: '',\n    });\n\n    // 切換城市公車，把之前的routeName清空\n    const getCityName = (e) => {\n      busSearch.cityEn = e.target.dataset.cityEn;\n      busSearch.cityZh = e.target.dataset.cityZh;\n      busSearch.routeName = '';\n      closeDropMenu();\n      customKeyboard.value = true;\n    };\n\n    const getRouteName = (e) => {\n      if (e.target.tagName === 'BUTTON') {\n        busSearch.routeName += e.target.textContent;\n      }\n    };\n\n    const deleteWord = (e) => {\n      const { length } = busSearch.routeName;\n      const { clear } = e.target.dataset;\n      switch (clear) {\n        case 'all':\n          busSearch.routeName = '';\n          break;\n        default:\n          busSearch.routeName = busSearch.routeName.substring(0, length - 1);\n          break;\n      }\n    };\n\n    watch(\n      () => busSearch.routeName,\n      async (newVal, oldVal) => {\n        if (newVal && newVal !== oldVal) {\n          await dispatch('getData', {\n            type: 'route',\n            routeName: busSearch.routeName,\n            city: busSearch.cityEn,\n          });\n        }\n      },\n    );\n\n    // 打開手機內置鍵盤\n    const keyboard = ref('true');\n    const routeNameInput = ref(null);\n    const changeKeyboard = () => {\n      keyboard.value = !keyboard.value;\n      nextTick(() => {\n        routeNameInput.value.focus();\n      });\n    };\n\n    // 改變自製鍵盤內容\n    const options = ref('true');\n    const changeOptions = () => {\n      options.value = !options.value;\n    };\n\n    onMounted(() => {\n      dropdown.value.addEventListener('show.bs.dropdown', () => {\n        customKeyboard.value = false;\n      });\n    });\n\n    return {\n      BusCity,\n      dropdown,\n      closeDropMenu,\n      customKeyboard,\n      ...toRefs(busSearch),\n      getCityName,\n      getRouteName,\n      deleteWord,\n      keyboard,\n      routeNameInput,\n      changeKeyboard,\n      options,\n      changeOptions,\n    };\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.dropdown-menu {\n  max-height: 50vh;\n  transform: translate3d(0px, 0px, 0px) !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  &-icon {\n    top: 0px;\n    right: 25%;\n    transform: translate(0, 15%);\n  }\n}\n.btns-option {\n  .col {\n    min-width: 20%;\n  }\n  button {\n    width: 100%;\n  }\n}\n</style>\n","<template>\n  <div class=\"container\" v-if=\"routes.length !== 0 && routes[0].RouteUID\">\n    <div\n      v-for=\"route of routes\"\n      :key=\"route.RouteUID\"\n      :class=\"[\n        'row gx-2 justify-content-between  align-items-center my-3 bg-white py-2 px-1  rounded-3',\n        deleteBtnIsShow === route.RouteUID ? 'moveRight' : '',\n      ]\"\n      @pointermove.prevent=\"showDeleteBtn($event, route.RouteUID)\"\n      @pointerup.prevent=\"changeRouterId(route.City, route.RouteName.Zh_tw, route.RouteUID)\"\n    >\n      <div class=\"col-auto\">{{ route.RouteName.Zh_tw }}</div>\n      <div class=\"col text-center\">\n        <span>{{ route.DepartureStopNameZh }}</span>\n        <font-awesome-icon :icon=\"['fas', 'exchange-alt']\" class=\"mx-2\" />\n        <span>{{ route.DestinationStopNameZh }}</span>\n      </div>\n      <div\n        class=\"col-1 ms-auto\"\n        v-if=\"$route.name !== 'CollectRoute'\"\n        @pointerup.prevent.stop=\"setCollectRoute(route.RouteUID)\"\n      >\n        <font-awesome-icon :icon=\"[route.isCollect ? 'fas' : 'far', 'bookmark']\" class=\"mx-2\" />\n      </div>\n      <div\n        class=\"p-0 text-nowrap col-auto\"\n        v-if=\"$route.path !== '/bus' && deleteBtnIsShow === route.RouteUID\"\n      >\n        <button\n          class=\"btn btn-primary rounded-3 h-100 px-4\"\n          @pointerup.prevent=\"removeCollect(route.RouteUID)\"\n        >\n          刪除\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport { ref, computed } from 'vue';\n\nexport default {\n  setup() {\n    const { state, commit } = useStore();\n    const router = useRouter();\n\n    const routes = computed(() => state.routes);\n\n    // 用來判斷目前是否為pointermove事件，如果是就pointerup事件就return\n    const deleteBtnIsShow = ref(null);\n    // pointerup\n    const changeRouterId = (city, routeName, routeId) => {\n      if (deleteBtnIsShow.value !== routeId) {\n        router.push({ name: 'Arrival', params: { city, routeName, routeId } });\n      }\n    };\n\n    let pointerOffsetX = 0;\n    const showDeleteBtn = (e, routeId) => {\n      console.log(router.currentRoute.value.path);\n      if (router.currentRoute.value.path === '/bus') return;\n      if (!pointerOffsetX) {\n        pointerOffsetX = e.offsetX;\n        return;\n      }\n      if (router.currentRoute.value.name === 'CollectRoute' && pointerOffsetX - e.offsetX > 1) {\n        deleteBtnIsShow.value = routeId;\n        pointerOffsetX = 0;\n      } else if (pointerOffsetX - e.offsetX < 0) {\n        deleteBtnIsShow.value = '';\n        pointerOffsetX = 0;\n      }\n    };\n\n    const setCollectRoute = (routeId) => {\n      let collectRoute = JSON.parse(localStorage.getItem('collectRoute')) || [];\n      const storeRoute = routes.value.find((route) => route.RouteUID === routeId);\n      console.log(routeId, storeRoute);\n      if (storeRoute.isCollect) {\n        const storeIndex = collectRoute.findIndex((route) => route.RouteUID === routeId);\n        collectRoute.splice(storeIndex, 1);\n      } else {\n        collectRoute = [...collectRoute, storeRoute];\n      }\n      localStorage.setItem('collectRoute', JSON.stringify(collectRoute));\n      commit('getRouteData', routes.value);\n    };\n\n    const removeCollect = (id) => {\n      const collectRoute = JSON.parse(localStorage.getItem('collectRoute')) || [];\n      const storeIndex = collectRoute.findIndex((route) => route.RouteUID === id);\n      collectRoute.splice(storeIndex, 1);\n      localStorage.setItem('collectRoute', JSON.stringify(collectRoute));\n      commit('getRouteData', JSON.parse(localStorage.getItem('collectRoute')));\n    };\n\n    return {\n      routes,\n      changeRouterId,\n      setCollectRoute,\n      showDeleteBtn,\n      deleteBtnIsShow,\n      removeCollect,\n    };\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\ntable {\n  border-collapse: separate; //設定表格的邊框是否被合併\n  border-spacing: 0px 1rem; //第一個引數代表td的間距，第二個引數代表tr的行距。\n  td:first-child {\n    border-top-left-radius: 0.5rem;\n    border-bottom-left-radius: 0.5rem;\n  }\n\n  td:last-child {\n    border-top-right-radius: 0.5rem;\n    border-bottom-right-radius: 0.5rem;\n  }\n}\n\n.row {\n  transition: 0.3s linear;\n  &.moveRight {\n    position: relative;\n    transform: translateX(-80px);\n    & .col-auto:last-child {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      right: -85px;\n    }\n  }\n}\n</style>\n","import { render } from \"./BusRoute.vue?vue&type=template&id=2b3b2786&scoped=true\"\nimport script from \"./BusRoute.vue?vue&type=script&lang=js\"\nexport * from \"./BusRoute.vue?vue&type=script&lang=js\"\n\nimport \"./BusRoute.vue?vue&type=style&index=0&id=2b3b2786&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\kuojo\\\\Desktop\\\\新增資料夾\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2b3b2786\"]])\n\nexport default __exports__","import { render } from \"./Bus.vue?vue&type=template&id=0dc85124&scoped=true\"\nimport script from \"./Bus.vue?vue&type=script&lang=js\"\nexport * from \"./Bus.vue?vue&type=script&lang=js\"\n\nimport \"./Bus.vue?vue&type=style&index=0&id=0dc85124&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\kuojo\\\\Desktop\\\\新增資料夾\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0dc85124\"]])\n\nexport default __exports__","<template>\n  <Map v-if=\"mapIsShow\" :direction=\"direction\" @changeMapIsShow=\"changeMapIsShow\" />\n  <article class=\"arrival container pt-3 position-absolute\" :class=\"{ 'map-show': mapIsShow }\">\n    <div class=\"btn btn-lg bg-white rounded-3 shadow d-flex justify-content-between my-2\">\n      <div class=\"text-start\" v-if=\"route.length !== 0\">\n        <div class=\"fs-6\">{{ route[0].RouteName.Zh_tw }}</div>\n        <div class=\"align-bottom fs-6\">\n          <span v-if=\"direction === 0\">往{{ route[0].DestinationStopNameZh }}</span>\n          <span v-else>往{{ route[0].DepartureStopNameZh }}</span>\n          <span class=\"fs-4 p-2\" @pointerup=\"changeMapIsShow\">\n            <font-awesome-icon :icon=\"['far', 'map']\" class=\"\" />\n          </span>\n        </div>\n      </div>\n      <div class=\"text-end\">\n        <div class=\"fs-4 p-2\" @pointerup.stop=\"changeRouteDirection\">\n          <font-awesome-icon :icon=\"['fas', 'exchange-alt']\" class=\"fs-4 ms-2\" />\n        </div>\n      </div>\n    </div>\n    <section class=\"mt-3\">\n      <template v-if=\"stops.length !== 0\">\n        <template v-for=\"stop of stops[0].Stops\" :key=\"stop.StopUID\">\n          <div class=\"d-flex align-items-center my-2\">\n            <template v-for=\"estimate of estimateds\" :key=\"estimate.StopUID\">\n              <span\n                v-if=\"estimate.StopUID === stop.StopUID\"\n                :class=\"[\n                  'text-white px-3 py-2 rounded-3 btn-sm w-25',\n                  estimate.StopStatus > 0 ? 'bg-success' : '',\n                  Math.floor(estimate.EstimateTime / 60) < 1 ? 'bg-danger' : '',\n                  3 >= Math.floor(estimate.EstimateTime / 60) >= 1 ? 'bg-warning' : '',\n                  Math.floor(estimate.EstimateTime / 60) > 3 ? 'bg-primary' : '',\n                ]\"\n              >\n                {{\n                  estimate.StopStatus > 0\n                    ? '尚未發車'\n                    : '' || Math.floor(estimate.EstimateTime / 60) >= 1\n                    ? `${Math.floor(estimate.EstimateTime / 60)}分`\n                    : '即將進站'\n                }}\n              </span>\n            </template>\n            <span class=\"fs-6 mx-2\">{{ stop.StopName.Zh_tw }}</span>\n            <template v-for=\"acc of accurateStops\" :key=\"acc.StopUID\">\n              <span\n                class=\"bg-warning text-white px-2 rounded-3 fs-xs\"\n                v-if=\"acc.StopUID === stop.StopUID\"\n                >{{ acc.PlateNumb }}\n              </span>\n            </template>\n\n            <span class=\"ms-auto p-2\" @pointerup.stop=\"setCollectStation(stop.StopUID)\">\n              <font-awesome-icon\n                :icon=\"[stop.isCollect ? 'fas' : 'far', 'bookmark']\"\n                class=\"mx-2 fs-4\"\n              />\n            </span>\n          </div>\n        </template>\n      </template>\n    </section>\n  </article>\n</template>\n<script>\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport { ref, computed, onUnmounted } from 'vue';\nimport Map from '@/components/Map.vue';\n\nexport default {\n  name: 'Arrival',\n  components: {\n    Map,\n  },\n  setup() {\n    const { state, getters, dispatch, commit } = useStore();\n    const { currentRoute } = useRouter();\n    const mapIsShow = ref(false);\n\n    // 找出特定路線相關訊息\n    // 以防直接輸入查詢網址\n    const { city, routeName, routeId } = currentRoute.value.params;\n\n    const getAllData = () => {\n      dispatch('getData', {\n        type: 'route',\n        routeName,\n        city,\n        routeId,\n      });\n\n      dispatch('getData', {\n        type: 'stop',\n        routeName,\n        city,\n        routeId,\n      });\n\n      dispatch('getData', {\n        type: 'realTimeNearStop',\n        routeName,\n        city,\n        routeId,\n      });\n\n      dispatch('getData', {\n        type: 'estimated',\n        routeName,\n        city,\n        routeId,\n      });\n    };\n    getAllData();\n    // 每 30 秒 資料重整\n    const updateBus = setInterval(() => {\n      getAllData();\n    }, 30000);\n\n    const direction = ref(0);\n\n    const changeRouteDirection = () => {\n      direction.value = Number(!direction.value);\n    };\n    const route = computed(() => getters.filterRoute(routeId));\n    const stops = computed(() => getters.filterStopRoute(direction.value));\n    const accurateStops = computed(() => getters.filterRealTimeNearStop(direction.value));\n    const estimateds = computed(() => getters.filterEstimatedBus(direction.value));\n\n    const changeMapIsShow = () => {\n      mapIsShow.value = !mapIsShow.value;\n    };\n\n    // 收藏車站\n    const setCollectStation = (stationId) => {\n      let collectStation = JSON.parse(localStorage.getItem('collectStation')) || [];\n      const storeStation = stops.value[0].Stops.find((stop) => stop.StopUID === stationId);\n      if (storeStation.isCollect) {\n        const storeIndex = collectStation.findIndex((stop) => stop.StopUID === stationId);\n        collectStation.splice(storeIndex, 1);\n      } else {\n        collectStation = [...collectStation, { route: route.value[0], stop: storeStation }];\n      }\n      localStorage.setItem('collectStation', JSON.stringify(collectStation));\n      commit('getStopData', state.selectedRoute.Stops);\n    };\n\n    onUnmounted(() => {\n      clearInterval(updateBus);\n    });\n\n    return {\n      mapIsShow,\n      direction,\n      route,\n      changeRouteDirection,\n      stops,\n      accurateStops,\n      estimateds,\n      changeMapIsShow,\n      setCollectStation,\n    };\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.arrival {\n  z-index: 998;\n  top: calc(102px);\n  background: linear-gradient(to bottom, #faf0df, #ededcc);\n  transition: 0.3s linear;\n  padding-bottom: 50px;\n}\n.map-show {\n  top: calc(40vh + 102px);\n}\n</style>\n","<template>\n  <l-map\n    ref=\"busMap\"\n    :class=\"[$route.name === 'Arrival' ? 'position-fixed' : 'position-relative']\"\n    style=\"height: 40vh; width: 100%; top: 102px\"\n    :zoom=\"zoom\"\n    :center=\"center\"\n    :options=\"{ zoomControl: false }\"\n    @ready=\"ready\"\n  >\n    <l-tile-layer :url=\"url\" :attribution=\"attribution\"></l-tile-layer>\n    <template v-if=\"$route.name === 'Arrival'\">\n      <l-control\n        :position=\"'bottomright'\"\n        ref=\"control\"\n        @pointerup=\"changeMapIsShow\"\n        v-if=\"$route.name === 'Arrival'\"\n      >\n        <button class=\"btn btn-lg bg-white border-primary text-primary\">\n          <font-awesome-icon :icon=\"['fas', 'chevron-up']\" class=\"\" />\n        </button>\n      </l-control>\n      <!-- 路線 -->\n      <template v-if=\"shape.Geometry.coordinates.length !== 0\">\n        <l-polyline\n          :lat-lngs=\"shape.Geometry.coordinates\"\n          :color=\"'#929259'\"\n          :opacity=\"0.45\"\n          ref=\"routeShape\"\n        />\n      </template>\n\n      <!-- 各站牌位置 -->\n      <template v-if=\"stops.length !== 0\">\n        <l-marker\n          v-for=\"stop of stops[0].Stops\"\n          :key=\"stop.StopID\"\n          :lat-lng=\"[stop.StopPosition.PositionLat, stop.StopPosition.PositionLon]\"\n        >\n          <l-icon>\n            <font-awesome-icon :icon=\"['fas', 'map-pin']\" class=\"display-6 text-danger\" />\n          </l-icon>\n        </l-marker>\n      </template>\n      <!-- 公車目前位置 -->\n      <template v-if=\"RealTimeByFrequency.length !== 0\">\n        <l-marker\n          v-for=\"bus of RealTimeByFrequency\"\n          :key=\"bus.PlateNumb\"\n          :lat-lng=\"[bus.BusPosition.PositionLat, bus.BusPosition.PositionLon]\"\n        >\n          <l-icon>\n            <font-awesome-icon :icon=\"['fas', 'bus']\" class=\"text-primary display-5\" />\n          </l-icon>\n        </l-marker>\n      </template>\n    </template>\n    <!-- 目前位置 -->\n    <template v-if=\"$route.name === 'NearBus'\">\n      <l-marker :lat-lng=\"center\">\n        <l-icon>\n          <font-awesome-icon :icon=\"['fas', 'map-marker-alt']\" class=\"text-primary display-5\" />\n        </l-icon>\n      </l-marker>\n      <!-- 各站牌位置 -->\n      <template v-if=\"nearBusStop.length !== 0\">\n        <l-marker\n          v-for=\"station of nearBusStop\"\n          :key=\"station.StationUID\"\n          :lat-lng=\"[station.StationPosition.PositionLat, station.StationPosition.PositionLon]\"\n        >\n          <l-icon>\n            <font-awesome-icon\n              :icon=\"['fas', 'map-pin']\"\n              :class=\"[\n                'display-6',\n                openStationUid === station.StationUID ? 'text-danger' : 'text-success',\n              ]\"\n            />\n          </l-icon>\n        </l-marker>\n      </template>\n    </template>\n  </l-map>\n</template>\n\n<script>\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport { computed, onUnmounted, ref, watch } from 'vue';\nimport { LMap, LTileLayer, LPolyline, LControl, LMarker, LIcon } from '@vue-leaflet/vue-leaflet';\nimport getLocation from '@/hook/getLocation';\n\nexport default {\n  name: 'Map',\n  components: {\n    LMap,\n    LTileLayer,\n    LPolyline,\n    LControl,\n    LMarker,\n    LIcon,\n  },\n  props: {\n    direction: Number,\n    openStationUid: String,\n  },\n  setup(props, { emit }) {\n    console.log('Map');\n    const { state, getters, dispatch } = useStore();\n    const { currentRoute } = useRouter();\n\n    const busMap = ref(null);\n    const center = ref([25, 121]);\n    const zoom = ref(18);\n    const control = ref(null);\n\n    // 找出特定路線相關訊息\n    const { city, routeName, routeId } = currentRoute.value.params;\n    let updateBusMarker;\n    const getAllData = () => {\n      if (currentRoute.value.name === 'Arrival') {\n        // 車輛位置\n        dispatch('getData', {\n          type: 'realTimeByFrequency',\n          city,\n          routeName,\n          routeId,\n        });\n        // 路線\n        dispatch('getData', {\n          type: 'shape',\n          city,\n          routeName,\n          routeId,\n        });\n\n        // 站牌\n        dispatch('getData', {\n          type: 'stop',\n          routeName,\n          city,\n          routeId,\n        });\n\n        updateBusMarker = setInterval(() => {\n          dispatch('getData', {\n            type: 'realTimeByFrequency',\n            city,\n            routeName,\n            routeId,\n          });\n        }, 30000);\n      } else if (currentRoute.value.name === 'NearBus') {\n        // 取得目前位置\n        getLocation(4500);\n      }\n    };\n\n    const ready = () => {\n      getAllData();\n    };\n\n    // Arrival\n    // 路線\n    const routeShape = ref(null);\n    const shape = computed(() => state.selectedRoute.shape);\n\n    // 站牌\n    const stops = computed(() => getters.filterStopRoute(props.direction));\n\n    // 車輛位置\n    const RealTimeByFrequency = computed(() => getters.filterRealTimeByFrequency(props.direction));\n\n    watch(\n      () => shape.value.Geometry.coordinates,\n      (newVal) => {\n        if (newVal.length !== 0) {\n          let minLat = newVal[0][0];\n          let minLon = newVal[0][1];\n          let maxLat = 0;\n          let maxLon = 0;\n          newVal.forEach((item) => {\n            minLat = item[0] < minLat ? item[0] : minLat;\n            minLon = item[1] < minLon ? item[1] : minLon;\n            maxLat = item[0] > maxLat ? item[0] : maxLat;\n            maxLon = item[1] > maxLon ? item[1] : maxLon;\n          });\n          busMap.value.leafletObject.flyToBounds([\n            [minLat, minLon],\n            [maxLat, maxLon],\n          ]);\n        }\n      },\n    );\n\n    const changeMapIsShow = () => {\n      emit('changeMapIsShow');\n    };\n\n    // NearBus\n    const nearBusStop = computed(() => state.NearLocationBus);\n    const location = computed(() => state.location);\n\n    watch(location, (newVal) => {\n      console.log(newVal);\n      const { lat, lon } = newVal;\n      center.value = [lat, lon];\n      zoom.value = 13;\n      busMap.value.leafletObject.flyTo([lat, lon], zoom.value);\n    });\n\n    onUnmounted(() => {\n      clearInterval(updateBusMarker);\n    });\n\n    return {\n      busMap,\n      ready,\n      center,\n      zoom,\n      control,\n      routeShape,\n      shape,\n      stops,\n      RealTimeByFrequency,\n      changeMapIsShow,\n      nearBusStop,\n    };\n  },\n  data() {\n    return {\n      url: 'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',\n      attribution:\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n    };\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\"></style>\n","import { render } from \"./Map.vue?vue&type=template&id=7d792ab6\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\kuojo\\\\Desktop\\\\新增資料夾\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Arrival.vue?vue&type=template&id=4066d4e1&scoped=true\"\nimport script from \"./Arrival.vue?vue&type=script&lang=js\"\nexport * from \"./Arrival.vue?vue&type=script&lang=js\"\n\nimport \"./Arrival.vue?vue&type=style&index=0&id=4066d4e1&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\kuojo\\\\Desktop\\\\新增資料夾\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4066d4e1\"]])\n\nexport default __exports__","<template>\n  <Map :open-station-uid=\"open\" />\n  <article class=\"container position-relative\" style=\"top: 120px; padding-bottom: 180px\">\n    <div class=\"accordion my-2\" v-if=\"nearBusStop.length !== 0\">\n      <div\n        class=\"accordion-item my-3 border-0\"\n        v-for=\"busStop of nearBusStop\"\n        :key=\"busStop.StationUID\"\n      >\n        <h2 class=\"accordion-header\">\n          <button\n            :class=\"['accordion-button  px-3', open === busStop.StationUID ? '' : 'collapsed']\"\n            type=\"button\"\n            data-bs-toggle=\"collapse\"\n            :data-bs-target=\"`#${busStop.StationUID}`\"\n            aria-expanded=\"false\"\n            :aria-controls=\"busStop.StationUID\"\n            @click.prevent=\"changeOpenId(busStop.StationUID)\"\n          >\n            <div class=\"row w-75 g-1 align-items-center\">\n              <div class=\"col-6\">{{ busStop.StationName.Zh_tw }}</div>\n              <div class=\"col-6 d-flex flex-wrap\">\n                <span class=\"m-1\" v-for=\"stop of busStop.Stops\" :key=\"stop.RouteUID\">{{\n                  stop.RouteName.Zh_tw\n                }}</span>\n              </div>\n            </div>\n          </button>\n        </h2>\n        <div\n          :id=\"busStop.StationUID\"\n          :class=\"['accordion-collapse collapse', open === busStop.StationUID ? 'show' : '']\"\n          aria-labelledby=\"headingOne\"\n        >\n          <div class=\"container px-3 py-1\" v-if=\"stationRoute.length !== 0\">\n            <router-link\n              :to=\"{\n                name: 'Arrival',\n                params: { city, routeName: stop.RouteName.Zh_tw, routeId: stop.RouteUID },\n              }\"\n              class=\"row g-2 align-items-center my-2 text-decoration-none\"\n              v-for=\"stop of stationRoute\"\n              :key=\"stop.RouteUID\"\n            >\n              <div class=\"col-3 text-start\">{{ stop.RouteName.Zh_tw }}</div>\n              <div class=\"col-7\">\n                <span class=\"m-1\">往{{ stop.DestinationStopNameZh }}</span>\n              </div>\n              <span class=\"col-2 text-end p-2\">\n                <font-awesome-icon :icon=\"['far', 'bookmark']\" class=\"fs-4\" />\n              </span>\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </article>\n</template>\n<script>\nimport { useStore } from 'vuex';\nimport { ref, computed, watch } from 'vue';\nimport Map from '@/components/Map.vue';\n// @ is an alias to /src\n\nexport default {\n  name: 'NearBus',\n  components: {\n    Map,\n  },\n  setup() {\n    const { state, dispatch } = useStore();\n    const open = ref(null);\n    const nearBusStop = computed(() => state.NearLocationBus);\n\n    // 當按下選單後才取得該站各路線資料\n    const stationRoute = ref([]);\n    const city = computed(() => state.location.city);\n    const changeOpenId = (id) => {\n      open.value = id;\n    };\n    watch(open, (newId, oldId) => {\n      if (newId && newId !== oldId) {\n        stationRoute.value = [];\n        const station = nearBusStop.value.find((item) => item.StationUID === newId);\n        station.Stops.forEach(async (item) => {\n          const stop = item;\n          const busDestinationStopRes = await dispatch('getDestinationStop', {\n            type: 'route',\n            city: city.value,\n            RouteName: stop.RouteName.Zh_tw,\n            RouteUID: stop.RouteUID,\n          });\n          stationRoute.value = [\n            ...stationRoute.value,\n            { ...stop, DestinationStopNameZh: busDestinationStopRes[0].DestinationStopNameZh },\n          ];\n        });\n      }\n    });\n\n    return {\n      open,\n      city,\n      nearBusStop,\n      changeOpenId,\n      stationRoute,\n    };\n  },\n};\n</script>\n","import { render } from \"./NearBus.vue?vue&type=template&id=d81bc472\"\nimport script from \"./NearBus.vue?vue&type=script&lang=js\"\nexport * from \"./NearBus.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\kuojo\\\\Desktop\\\\新增資料夾\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"container\">\n    <div class=\"row g-0 shadow\">\n      <div class=\"col-6 d-grid bg-white\">\n        <router-link\n          to=\"/collect/station\"\n          :class=\"['btn rounded-3', $route.name === 'CollectStation' ? 'btn-primary' : 'bg-white']\"\n          >公車站</router-link\n        >\n      </div>\n      <div class=\"col-6 d-grid\">\n        <router-link\n          to=\"/collect/route\"\n          :class=\"['btn rounded-3', $route.name === 'CollectRoute' ? 'btn-primary' : 'bg-white']\"\n          >公車路線</router-link\n        >\n      </div>\n    </div>\n    <router-view class=\"my-2\"></router-view>\n  </div>\n</template>\n<script>\nimport { useStore } from 'vuex';\n\nexport default {\n  name: 'Collect',\n  setup() {\n    const { commit } = useStore();\n    commit('getRouteData', JSON.parse(localStorage.getItem('collectRoute')) || []);\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\ntable {\n  border-collapse: separate; //設定表格的邊框是否被合併\n  border-spacing: 0px 1rem; //第一個引數代表td的間距，第二個引數代表tr的行距。\n  td:first-child {\n    border-top-left-radius: 0.5rem;\n    border-bottom-left-radius: 0.5rem;\n  }\n\n  td:last-child {\n    border-top-right-radius: 0.5rem;\n    border-bottom-right-radius: 0.5rem;\n  }\n}\n</style>\n","import { render } from \"./Collect.vue?vue&type=template&id=6784b0b2&scoped=true\"\nimport script from \"./Collect.vue?vue&type=script&lang=js\"\nexport * from \"./Collect.vue?vue&type=script&lang=js\"\n\nimport \"./Collect.vue?vue&type=style&index=0&id=6784b0b2&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\kuojo\\\\Desktop\\\\新增資料夾\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6784b0b2\"]])\n\nexport default __exports__","<template>\n  <div\n    :class=\"[\n      'row gx-2 justify-content-between align-items-center my-3 bg-white py-2 px-1 rounded-3',\n      deleteBtnIsShow === station.stop.StopUID ? 'moveRight' : '',\n    ]\"\n    v-for=\"station of stations\"\n    :key=\"station.stop.StopUID\"\n    @pointermove.prevent=\"showDeleteBtn($event, station.stop.StopUID)\"\n  >\n    <div class=\"col-auto text-start\">\n      <h5 class=\"m-0\">{{ station.route.RouteName.Zh_tw }}</h5>\n      <div class=\"text-success fs-xs\">往{{ station.route.DestinationStopNameZh }}</div>\n    </div>\n    <div class=\"col-auto text-start\">\n      <h5 class=\"m-0\">{{ station.stop.StopName.Zh_tw }}</h5>\n    </div>\n    <template v-for=\"estimate of estimateTime\" :key=\"estimate.StopUID\">\n      <div class=\"col-auto text-end\" v-if=\"station.stop.StopUID === estimate.StopUID\">\n        {{\n          estimate.EstimateTime\n            ? `${Math.ceil(estimate.EstimateTime / 60)}分`\n            : '未提供預估抵達時間'\n        }}\n      </div>\n    </template>\n    <div class=\"col-auto p-0 text-nowrap\" v-if=\"deleteBtnIsShow === station.stop.StopUID\">\n      <button\n        class=\"btn btn-primary rounded-3 h-100 px-4\"\n        @pointerup.prevent=\"removeCollect(station.stop.StopUID)\"\n      >\n        刪除\n      </button>\n    </div>\n  </div>\n</template>\n<script>\nimport { useStore } from 'vuex';\nimport { ref, watch } from 'vue';\n\nexport default {\n  name: 'CollectStation',\n  setup() {\n    const { state, getters } = useStore();\n    const stations = ref(JSON.parse(localStorage.getItem('collectStation')) || []);\n    const estimateTime = ref([]);\n\n    watch(\n      stations,\n      (newVal, oldVal) => {\n        if (newVal.length !== 0 && newVal !== oldVal) {\n          const { Estimated_url: estimated } = state.api;\n          newVal.forEach(async (item) => {\n            const res = await fetch(\n              `${estimated}${item.route.City}/${item.route.RouteName.Zh_tw}?$filter=RouteUID eq '${item.route.RouteUID}' and contains(StopUID, '${item.stop.StopUID}') and Direction eq '去程'&$top=1&$format=JSON`,\n              getters.headers,\n            );\n            const data = await res.json();\n            estimateTime.value = [...estimateTime.value, ...data];\n          });\n        }\n      },\n      { immediate: true },\n    );\n\n    // 用來判斷目前是否為pointermove事件，如果是就pointerup事件就return\n    const deleteBtnIsShow = ref(null);\n\n    let pointerOffsetX = 0;\n    const showDeleteBtn = (e, stopId) => {\n      if (!pointerOffsetX) {\n        pointerOffsetX = e.offsetX;\n        return;\n      }\n      if (pointerOffsetX - e.offsetX > 1) {\n        deleteBtnIsShow.value = stopId;\n        pointerOffsetX = 0;\n      } else if (pointerOffsetX - e.offsetX < 0) {\n        deleteBtnIsShow.value = '';\n        pointerOffsetX = 0;\n      }\n    };\n\n    const removeCollect = (id) => {\n      const collectStation = JSON.parse(localStorage.getItem('collectStation')) || [];\n      const storeIndex = collectStation.findIndex((station) => station.stop.StopUID === id);\n      collectStation.splice(storeIndex, 1);\n      localStorage.setItem('collectStation', JSON.stringify(collectStation));\n      stations.value = JSON.parse(localStorage.getItem('collectStation'));\n    };\n\n    return {\n      stations,\n      estimateTime,\n      deleteBtnIsShow,\n      showDeleteBtn,\n      removeCollect,\n    };\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.row {\n  transition: 0.3s linear;\n  &.moveRight {\n    position: relative;\n    transform: translateX(-80px);\n    & .col-auto:last-child {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      right: -85px;\n    }\n  }\n}\n</style>\n","import { render } from \"./CollectStation.vue?vue&type=template&id=32026cae&scoped=true\"\nimport script from \"./CollectStation.vue?vue&type=script&lang=js\"\nexport * from \"./CollectStation.vue?vue&type=script&lang=js\"\n\nimport \"./CollectStation.vue?vue&type=style&index=0&id=32026cae&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\kuojo\\\\Desktop\\\\新增資料夾\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-32026cae\"]])\n\nexport default __exports__","<template>\n  <BusRoute />\n</template>\n<script>\nimport BusRoute from '@/components/BusRoute.vue';\n\nexport default {\n  name: 'Bus',\n  components: {\n    BusRoute,\n  },\n};\n</script>\n","import { render } from \"./CollectRoute.vue?vue&type=template&id=26be9c5f\"\nimport script from \"./CollectRoute.vue?vue&type=script&lang=js\"\nexport * from \"./CollectRoute.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\kuojo\\\\Desktop\\\\新增資料夾\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from 'vue-router';\nimport Home from '@/views/Home.vue';\nimport Bus from '@/views/Bus.vue';\nimport Arrival from '@/views/Arrival.vue';\nimport NearBus from '@/views/NearBus.vue';\nimport Collect from '@/views/Collect.vue';\nimport CollectStation from '@/components/CollectStation.vue';\nimport CollectRoute from '@/components/CollectRoute.vue';\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n  },\n  {\n    path: '/bus',\n    name: 'Bus',\n    component: Bus,\n  },\n  {\n    path: '/bus/:city/:routeName/:routeId',\n    name: 'Arrival',\n    component: Arrival,\n  },\n  {\n    path: '/nearBus',\n    name: 'NearBus',\n    component: NearBus,\n  },\n  {\n    path: '/collect',\n    name: 'Collect',\n    component: Collect,\n    children: [\n      {\n        path: 'station',\n        name: 'CollectStation',\n        component: CollectStation,\n      },\n      {\n        path: 'route',\n        name: 'CollectRoute',\n        component: CollectRoute,\n      },\n    ],\n  },\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes,\n});\n\nexport default router;\n","// 載入樣式\nimport '@/scss/main.scss';\nimport * as bootstrap from 'bootstrap';\n\nimport 'leaflet/dist/leaflet.css';\n\n// font-awesome\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faBookmark,\n  faReply,\n  faGlobe,\n  faMapMarkerAlt,\n  faBars,\n  faChevronUp,\n  faChevronDown,\n  faExchangeAlt,\n  faBackspace,\n  faBus,\n  faMapPin,\n} from '@fortawesome/free-solid-svg-icons';\nimport {\n  faBookmark as farBookmark,\n  faMap,\n} from '@fortawesome/free-regular-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\n\nimport { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\n\nlibrary.add(\n  faBookmark,\n  faReply,\n  faGlobe,\n  faMap,\n  faMapMarkerAlt,\n  faBars,\n  faChevronUp,\n  faChevronDown,\n  faExchangeAlt,\n  faBackspace,\n  farBookmark,\n  faBus,\n  faMapPin,\n);\n\ncreateApp(App)\n  .use(bootstrap)\n  .use(store)\n  .use(router)\n  .component('font-awesome-icon', FontAwesomeIcon)\n  .mount('#app');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CollectStation.vue?vue&type=style&index=0&id=32026cae&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Collect.vue?vue&type=style&index=0&id=6784b0b2&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/logo.44a24970.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./BusRoute.vue?vue&type=style&index=0&id=2b3b2786&lang=scss&scoped=true\""],"sourceRoot":""}